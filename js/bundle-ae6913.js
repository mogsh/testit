webpackJsonp([102],{311:function(e,t,r){"use strict";function a(e){i||r(656)}Object.defineProperty(t,"__esModule",{value:!0});var l=r(420),o=r.n(l);for(var s in l)"default"!==s&&function(e){r.d(t,e,function(){return l[e]})}(s);var u=r(658),i=!1,m=r(21),n=a,p=m(o.a,u.a,!1,n,"data-v-2a6d3c22",null);p.options.__file="src\\component\\admin\\backstage\\EditStaff.vue",t.default=p.exports},420:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{imgApi:this.$imgApi,upImg:"",ruleForm:{employeeCode:"",employeeName:"",employeeStatus:"",headImage:[],phone:"",platformEmployeeId:"",position:"",sex:"",userName:"",userPassword:"",userStatus:""},rules:{employeeCode:[{required:!0,message:"请输入内容",trigger:"blur"}],employeeName:[{required:!0,message:"请输入内容",trigger:"blur"}],employeeStatus:[{required:!0,message:"请输入内容",trigger:"change"}],phone:[{required:!0,message:"请输入内容",trigger:"blur"}],platformEmployeeId:[{required:!0,message:"请输入内容",trigger:"blur"}],position:[{required:!0,message:"请输入内容",trigger:"blur"}],sex:[{required:!0,message:"请输入内容",trigger:"change"}],userName:[{required:!0,message:"请输入内容",trigger:"blur"}],userPassword:[{required:!0,message:"请输入内容",trigger:"blur"}],userStatus:[{required:!0,message:"请输入内容",trigger:"change"}]}}},methods:{uploadImgHandler:function(e){this.upImg=e.data[0].fileUrl},beforeAvatarUpload:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t},getStaffData:function(){var e=this,t=this.$route.params.id;this.$http.get(this.$api.findPlatformEmployee,{params:{platformEmployeeId:t}}).then(function(t){e.ruleForm=t.data.data,e.ruleForm.userStatus=Boolean(e.ruleForm.userStatus);var r={};r.url=e.ruleForm.headImage,e.ruleForm.headImage=[],e.ruleForm.headImage.push(r)})},save:function(){var e=this,t=this.ruleForm;t.userStatus?t.userStatus=1:t.userStatus=0,t.headImage=this.upImg,this.$http.get(this.$api.updatePlatformEmployee,{params:t}).then(function(t){t.data.flag&&(e.$message({type:"success",message:"保存成功!"}),e.$router.go(-1))}).catch(function(){e.$message.error("保存失败！请检查输入数据！")})},del:function(){var e=this,t=this;this.$confirm("是否确认删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.get(e.$api.delPlatformEmployee,{params:{platformEmployeeId:e.ruleForm.platformEmployeeId}}).then(function(r){r.data.flag&&(e.$message.success("删除成功!"),t.$router.go(-1))})}).catch(function(){e.$message.info("已取消 [删除] 操作!")})}},created:function(){this.getStaffData()}}},656:function(e,t,r){var a=r(657);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(20)("9eeed01e",a,!1)},657:function(e,t,r){t=e.exports=r(7)(!1),t.push([e.i,"\n.content-title[data-v-2a6d3c22] {\n  font-size: 18px;\n  font-family: MicrosoftYaHei-Bold;\n  color: #606266;\n  font-weight: bold;\n  margin: 0 10px 20px;\n}\n",""])},658:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"breadcrumb"},[r("div",{staticClass:"breadcrumb-head"},[e._v("后台管理")]),e._v(" "),r("el-breadcrumb",e._l(e.$route.meta.bread,function(t,a){return r("el-breadcrumb-item",{key:a},[e._v(e._s(t))])}))],1),e._v(" "),r("div",{staticClass:"content"},[r("el-row",[r("el-col",{attrs:{span:6}},[r("div",{staticClass:"content-title"},[e._v("填写职员信息")])])],1),e._v(" "),r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"职员姓名",prop:"employeeName"}},[r("el-input",{model:{value:e.ruleForm.employeeName,callback:function(t){e.$set(e.ruleForm,"employeeName",t)},expression:"ruleForm.employeeName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6,offset:6}},[r("el-form-item",{attrs:{label:"职员账号",prop:"userName"}},[r("el-input",{model:{value:e.ruleForm.userName,callback:function(t){e.$set(e.ruleForm,"userName",t)},expression:"ruleForm.userName"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"职员编号",prop:"employeeCode"}},[r("el-input",{model:{value:e.ruleForm.employeeCode,callback:function(t){e.$set(e.ruleForm,"employeeCode",t)},expression:"ruleForm.employeeCode"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6,offset:6}},[r("el-form-item",{attrs:{label:"登录密码",prop:"userPassword"}},[r("el-input",{model:{value:e.ruleForm.userPassword,callback:function(t){e.$set(e.ruleForm,"userPassword",t)},expression:"ruleForm.userPassword"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"职员性别",prop:"sex"}},[r("el-radio",{attrs:{label:1},model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},[e._v("男")]),e._v(" "),r("el-radio",{attrs:{label:0},model:{value:e.ruleForm.sex,callback:function(t){e.$set(e.ruleForm,"sex",t)},expression:"ruleForm.sex"}},[e._v("女")])],1)],1),e._v(" "),r("el-col",{attrs:{span:6,offset:6}},[r("el-form-item",{attrs:{label:"工作状态",prop:"employeeStatus"}},[r("el-radio",{attrs:{label:1},model:{value:e.ruleForm.employeeStatus,callback:function(t){e.$set(e.ruleForm,"employeeStatus",t)},expression:"ruleForm.employeeStatus"}},[e._v("在职")]),e._v(" "),r("el-radio",{attrs:{label:0},model:{value:e.ruleForm.employeeStatus,callback:function(t){e.$set(e.ruleForm,"employeeStatus",t)},expression:"ruleForm.employeeStatus"}},[e._v("离职")])],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[r("el-input",{model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:6,offset:6}},[r("el-form-item",{attrs:{label:"账号状态",prop:"userStatus"}},[r("el-switch",{attrs:{"active-text":"启用"},model:{value:e.ruleForm.userStatus,callback:function(t){e.$set(e.ruleForm,"userStatus",t)},expression:"ruleForm.userStatus"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"职位",prop:"position"}},[r("el-input",{model:{value:e.ruleForm.position,callback:function(t){e.$set(e.ruleForm,"position",t)},expression:"ruleForm.position"}})],1)],1)],1),e._v(" "),r("el-row",{staticClass:"addcarousel-pic-input",staticStyle:{height:"200px"}},[r("el-col",[r("el-form-item",{attrs:{label:"职员头像",prop:"imgItem"}},[r("el-upload",{attrs:{action:e.imgApi,"list-type":"picture-card","file-list":e.ruleForm.headImage,"on-success":e.uploadImgHandler,"before-upload":e.beforeAvatarUpload,limit:1}},[r("i",{staticClass:"el-icon-plus"}),e._v(" "),r("div",{staticClass:"el-upload__tip orange-txt",attrs:{slot:"tip"},slot:"tip"},[e._v("*图片尺寸：200*200px；格式为jpg。")])])],1)],1)],1)],1)],1),e._v(" "),r("el-button",{staticClass:"purple-bg",staticStyle:{"margin-top":"20px"},on:{click:e.save}},[e._v("保存")]),e._v(" "),r("el-button",{staticClass:"orange-bg",staticStyle:{"margin-top":"20px"},on:{click:e.del}},[e._v("删除")])],1)},l=[];a._withStripped=!0;var o={render:a,staticRenderFns:l};t.a=o}});