webpackJsonp([3],{301:function(t,e,a){"use strict";function i(t){r||a(626)}Object.defineProperty(e,"__esModule",{value:!0});var l=a(410),n=a.n(l);for(var o in l)"default"!==o&&function(t){a.d(e,t,function(){return l[t]})}(o);var s=a(628),r=!1,c=a(21),d=i,u=c(n.a,s.a,!1,d,"data-v-f0f76dc2",null);u.options.__file="src\\component\\admin\\youCoin\\newAdd.vue",e.default=u.exports},410:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=a(93),n=i(l),o=a(31),s=i(o),r=a(92),c=i(r);e.default={filters:{},data:function(){return{val1:"",val2:"",val3:[],multipleSelection:[],options2:[],options3:[],total:0,pages:0,query:{pageNum:1,pageSize:10,isExchangeGoods:1,name:"",storeId:"",goodsCategoryId:"",isUp:1,goodsAudit:2},tableData:[],dialogFormVisible:!1,form:{name:"",num:""},editData:{}}},methods:{getGoodsData:function(){var t=this;this.$http.get(this.$api.findGoodsListPage,{params:this.query}).then(function(e){t.tableData=e.data.data.list,t.total=e.data.data.total})},edit:function(t){this.dialogFormVisible=!0,this.editData=JSON.parse((0,c.default)(t))},getCategoryData:function(){var t=this;this.$http.get(this.$api.findGoodsCategoryList).then(function(e){var a=e.data.data,i=function(t){for(var e=t,a=t.length,i=[],l=0;l<a;l++){var n={};if(n.value=e[l].id,n.label=e[l].name,null!=e[l].children){n.childrentemp=e[l].children,n.children=[];for(var o=0;o<n.childrentemp.length;o++){var s={};if(s.value=n.childrentemp[o].id,s.label=n.childrentemp[o].name,n.children.push(s),null!=n.childrentemp[o].children){s.children=[],s.childrentemp=n.childrentemp[o].children;for(var r=0;r<s.childrentemp.length;r++){var c={};c.value=s.childrentemp[r].id,c.label=s.childrentemp[r].name,s.children.push(c)}}}i[l]=n}else i[l]=n}return i}(a);t.options3=i})},getShopData:function(){var t=this;this.$http.get(this.$api.findStoreList).then(function(e){var a=e.data.data,i=[],l=[];(0,s.default)(a).forEach(function(t,e){l.push(t)}),(0,n.default)(a).forEach(function(t,e){i.push(t)});for(var o=0;o<i.length;o++){var r={};r.value=l[o],r.label=i[o],t.options2.push(r)}})},searchVal1:function(){this.query.name=this.val1,this.getGoodsData()},selectVal2:function(){this.query.storeId=this.val2,this.getGoodsData()},selectVal3:function(){var t=this.val3.length;this.query.goodsCategoryId=this.val3[t-1],this.getGoodsData()},save:function(){var t=this;this.$http.get(this.$api.addExchangeGoods,{params:{goodsId:this.editData.goodsId,exchangeUcoinsCount:this.editData.exchangeUcoinsCount,limitNum:this.editData.limitNum}}).then(function(e){e.data.flag?(t.$message.success("保存成功！"),t.dialogFormVisible=!1,t.$router.go(-1)):t.$message.error(e.data.msg)})},updateSort:function(t){var e=this;this.$http.get(this.$api.updateActivityBuyFeaturedSort,{params:{activityBuyGroupId:t.activityBuyGroupId,sort:t.sort}}).then(function(t){1==t.data.flag?e.$message({type:"success",message:"修改成功"}):e.$message({type:"error",message:"修改失败"})})},checkgoods:function(t,e){this.$router.push({name:"ycg",params:{goodsId:t.goodsId,storeId:t.storeId,query:this.query,formWhere:"gg"}})},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){this.query.pageSize=t,this.getGoodsData()},handleCurrentChange:function(t){this.query.pageNum=t,this.getGoodsData()},addBrand:function(){this.$router.push("/youCoin/newAdd")},changeValue:function(){var t=this;this.$http.get(this.$api.updateExchangeGoods,{params:{exchangeGoodsId:row.exchangeGoodsId,exchangeUcoinsCount:row.exchangeUcoinsCount,limitNum:row.limitNum}}).then(function(e){1==e.data.flag?t.$message({type:"success",message:"修改成功"}):t.$message({type:"error",message:"修改失败"})})}},created:function(){this.getGoodsData(),this.getShopData(),this.getCategoryData()}}},626:function(t,e,a){var i=a(627);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(20)("2d19c837",i,!1)},627:function(t,e,a){e=t.exports=a(7)(!1),e.push([t.i,"\n.btn-group[data-v-f0f76dc2],\n.search-group[data-v-f0f76dc2] {\n  margin-bottom: 20px;\n}\n.pagination[data-v-f0f76dc2] {\n  float: right;\n}\n.dialog-footer[data-v-f0f76dc2] {\n  text-align: left;\n}\n.el-form-item__content[data-v-f0f76dc2] {\n  line-height: 40px;\n  position: relative;\n  font-size: 14px;\n  display: inline-block;\n}\n",""])},628:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"breadcrumb"},[a("div",{staticClass:"breadcrumb-head"},[t._v("柚豆管理")]),t._v(" "),a("el-breadcrumb",t._l(t.$route.meta.bread,function(e,i){return a("el-breadcrumb-item",{key:i},[t._v(t._s(e))])}))],1),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"search-group select_width"},[a("el-input",{staticClass:"search-input mb10",attrs:{clearable:"",placeholder:"搜索商品名称/编号/品牌","prefix-icon":"el-icon-search"},on:{blur:t.searchVal1},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchVal1(e)}},model:{value:t.val1,callback:function(e){t.val1=e},expression:"val1"}}),t._v(" "),a("el-select",{staticClass:"search-select mb10",attrs:{clearable:"",filterable:"",placeholder:"选择店铺"},on:{change:t.selectVal2},model:{value:t.val2,callback:function(e){t.val2=e},expression:"val2"}},t._l(t.options2,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-cascader",{staticClass:"mb10",attrs:{clearable:"",placeholder:"选择分类","expand-trigger":"click",options:t.options3,"change-on-select":""},on:{change:t.selectVal3},model:{value:t.val3,callback:function(e){t.val3=e},expression:"val3"}})],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"名称",align:"center",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"imageUrl",label:"图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.imageUrl,width:"52",height:"52"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsCode",label:"编号",align:"center",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"storeName",label:"店铺",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsBrandName",label:"品牌",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"storeName",label:"分类",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"originalPrice",label:"原价(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sellingPrice",label:"销售价(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"inventory",label:"库存量(件)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"purple-txt",attrs:{type:"text",size:"small"},on:{click:function(a){t.checkgoods(e.row,e.$index)}}},[t._v("查看")]),t._v(" "),a("el-button",{staticClass:"purple-txt",attrs:{type:"text",size:"small"},on:{click:function(a){t.edit(e.row)}}},[t._v("编辑柚豆信息")]),t._v(" "),a("el-dialog",{attrs:{title:"编辑柚豆信息",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticClass:"mb20"},[t._v("商品名称:"+t._s(t.editData.goodsName))]),t._v(" "),a("el-form",{ref:"editData",attrs:{model:t.editData,"label-position":"left","label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"柚豆兑换值"}},[a("el-input",{model:{value:t.editData.exchangeUcoinsCount,callback:function(e){t.$set(t.editData,"exchangeUcoinsCount",e)},expression:"editData.exchangeUcoinsCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"可兑换数量"}},[a("el-input",{model:{value:t.editData.limitNum,callback:function(e){t.$set(t.editData,"limitNum",e)},expression:"editData.limitNum"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"purple-bg",staticStyle:{width:"100px"},attrs:{width:"100px"},on:{click:t.save}},[t._v("保 存")]),t._v(" "),a("el-button",{staticClass:"orange-bg",staticStyle:{width:"100px"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")])],1)],1)]}}])})],1),t._v(" "),a("div",{staticClass:"mt20",staticStyle:{height:"30px"}},[a("div",{staticClass:"fr"},[a("el-pagination",{attrs:{"current-page":t.query.pageNum,"page-sizes":[10,20,50,100],"page-size":t.query.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1)])},l=[];i._withStripped=!0;var n={render:i,staticRenderFns:l};e.a=n}});