webpackJsonp([79],{268:function(t,e,a){"use strict";function n(t){r||a(527)}Object.defineProperty(e,"__esModule",{value:!0});var l=a(377),s=a.n(l);for(var o in l)"default"!==o&&function(t){a.d(e,t,function(){return l[t]})}(o);var i=a(529),r=!1,c=a(21),u=n,p=c(s.a,i.a,!1,u,"data-v-7c913a98",null);p.options.__file="src\\component\\admin\\group\\todayPooling.vue",e.default=p.exports},377:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{val1:"",val2:"",val3:[],val4:"",multipleSelection:[],options2:[],options3:this.$getCategoryOptions(),options4:this.$globalData.salesStatus,total:0,pages:0,query:{pageNum:1,pageSize:20,name:"",storeId:"",status:"",isFeatured:1},tableData:[]}},methods:{getGoodsData:function(){var t=this;this.$http.get(this.$api.findActivityBuyGroupListPage,{params:this.query}).then(function(e){t.tableData=e.data.data.list,t.total=e.data.data.total})},getCategoryData:function(){},getShopData:function(){if(0!=this.options2.length)return 0;this.options2=this.$getShopOptions()},searchVal1:function(){this.query.name=this.val1,this.getGoodsData()},selectVal2:function(){this.query.storeId=this.val2,this.getGoodsData()},selectVal3:function(){var t=this.val3.length;this.query.goodsCategoryId=this.val3[t-1],this.getGoodsData()},selectVal4:function(){this.query.status=this.val4,this.getGoodsData()},updateSort:function(t){var e=this;this.$http.get(this.$api.updateActivityBuyFeaturedSort,{params:{activityBuyGroupId:t.activityBuyGroupId,sort:t.sort}}).then(function(t){1==t.data.flag?e.$message({type:"success",message:"修改成功"}):e.$message({type:"error",message:"修改失败"})})},checkgoods:function(t,e){this.$router.push({name:"gdg",params:{activityBuyGroupId:t.activityBuyGroupId,sort:t.sort,query:this.query}})},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){this.query.pageSize=t,this.getGoodsData()},handleCurrentChange:function(t){this.query.pageNum=t,this.getGoodsData()},addBrand:function(){this.$router.push("/group/addGoods")},cancel:function(t,e){var a=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.get(a.$api.delActivityBuyFeature,{params:{activityBuyGroupIds:t.activityBuyGroupId}}).then(function(t){1==t.data.flag?(a.$message({type:"success",message:"删除成功。"}),a.getGoodsData()):a.$message({type:"error",message:"删除失败。"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},deleteSelect:function(){var t=this;this.multipleSelection.length?this.$confirm("是否删除选中商品？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={};e.activityBuyGroupIds=[];for(var a=0;a<t.multipleSelection.length;a++)e.activityBuyGroupIds.push(t.multipleSelection[a].activityBuyGroupId);e.activityBuyGroupIds=e.activityBuyGroupIds.join(","),t.$http.get(t.$api.delActivityBuyFeature,{params:e}).then(function(e){e.data.flag&&(t.getGoodsData(),t.$message({type:"warning",message:"删除选中商品成功!"}))})}).catch(function(){t.$message({type:"info",message:"已取消[删除]操作"})}):this.$message({type:"error",message:"当前未选中任何行！"})}},created:function(){this.getGoodsData()}}},527:function(t,e,a){var n=a(528);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(20)("40f898ac",n,!1)},528:function(t,e,a){e=t.exports=a(7)(!1),e.push([t.i,"\n.search-input1[data-v-7c913a98] {\n  width: 300px;\n}\n.btn-group[data-v-7c913a98],\n.search-group[data-v-7c913a98] {\n  margin-bottom: 20px;\n}\n.pagination[data-v-7c913a98] {\n  float: right;\n}\n",""])},529:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"breadcrumb"},[a("div",{staticClass:"breadcrumb-head"},[t._v("拼团管理")]),t._v(" "),a("el-breadcrumb",t._l(t.$route.meta.bread,function(e,n){return a("el-breadcrumb-item",{key:n},[t._v(t._s(e))])}))],1),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-button",{staticClass:"purple-bg",attrs:{icon:"el-icon-plus"},on:{click:t.addBrand}},[t._v("新增商品")])],1),t._v(" "),a("div",{staticClass:"search-group select_width"},[a("el-input",{staticClass:"search-input1 mb10",attrs:{clearable:"",placeholder:"搜索用户名称/编码/商品名称/编码/品牌","prefix-icon":"el-icon-search"},on:{blur:t.searchVal1},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchVal1(e)}},model:{value:t.val1,callback:function(e){t.val1=e},expression:"val1"}}),t._v(" "),a("el-select",{staticClass:"search-select mb10",attrs:{clearable:"",filterable:"",placeholder:"选择店铺"},on:{change:t.selectVal2,focus:t.getShopData},model:{value:t.val2,callback:function(e){t.val2=e},expression:"val2"}},t._l(t.options2,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-cascader",{staticClass:"mb10",attrs:{clearable:"",placeholder:"选择分类","expand-trigger":"click",options:t.options3,"change-on-select":""},on:{change:t.selectVal3},model:{value:t.val3,callback:function(e){t.val3=e},expression:"val3"}}),t._v(" "),a("el-select",{staticClass:"search-select mb10",attrs:{clearable:"",filterable:"",placeholder:"选择销售状态"},on:{change:t.selectVal4},model:{value:t.val4,callback:function(e){t.val4=e},expression:"val4"}},t._l(t.options4,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"名称",align:"center",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"imageUrl",label:"图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.imageUrl,width:"52",height:"52"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"storeName",label:"所属店铺",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsBrandName",label:"品牌",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"categoryName",label:"分类",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sellingPrice",label:"销售价(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsPrice",label:"拼团价(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"inventory",label:"库存量(件)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"销售状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("changeSalesStatus")(e.row.status))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"userNum",label:"拼团人数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"groupTime",label:"拼团持续时间",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.startTime)+"至"+t._s(e.row.endTime)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"freeShipping",label:"是否包邮",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("changeIsOrNot")(e.row.freeShipping))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:""},on:{change:function(a){t.updateSort(e.row)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"purple-txt",attrs:{type:"text",size:"small"},on:{click:function(a){t.checkgoods(e.row,e.$index)}}},[t._v("查看")]),t._v(" "),a("el-button",{staticClass:"orange-txt",attrs:{type:"text",size:"small"},on:{click:function(a){t.cancel(e.row,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"mt20",staticStyle:{height:"30px"}},[a("el-button",{staticClass:"orange-bg",on:{click:t.deleteSelect}},[t._v("批量删除")]),t._v(" "),a("div",{staticClass:"fr"},[a("el-pagination",{attrs:{"current-page":t.query.pageNum,"page-sizes":[20,50,100,200],"page-size":t.query.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)])},l=[];n._withStripped=!0;var s={render:n,staticRenderFns:l};e.a=s}});