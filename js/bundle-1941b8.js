webpackJsonp([38],{330:function(e,t,a){"use strict";function n(e){c||a(713)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(439),s=a.n(o);for(var l in o)"default"!==l&&function(e){a.d(t,e,function(){return o[e]})}(l);var r=a(715),c=!1,i=a(21),u=n,d=i(s.a,r.a,!1,u,"data-v-78e69ed8",null);d.options.__file="src\\component\\admin\\recommendation\\setting\\indexOfSetting.vue",t.default=d.exports},439:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(93),s=n(o),l=a(31),r=n(l);t.default={filters:{changeIsUp:function(e){return 1==e?"启用":"停用"}},data:function(){return{multipleSelection:[],val1:"",val2:"",options2:[],total:0,pages:0,query:{pageNum:1,pageSize:20,searchName:"",storeId:""},tableData:[]}},methods:{getIndexData:function(){var e=this;this.$http.get(this.$api.findChannelIndexGoodsListPage,{params:this.query}).then(function(t){e.tableData=t.data.data.list,e.total=t.data.data.total})},getShopData:function(){var e=this;this.$http.get(this.$api.findStoreList).then(function(t){var a=t.data.data,n=[],o=[];(0,r.default)(a).forEach(function(e,t){o.push(e)}),(0,s.default)(a).forEach(function(e,t){n.push(e)});for(var l=0;l<n.length;l++){var c={};c.value=o[l],c.label=n[l],e.options2.push(c)}})},addGoods:function(){this.$router.push("/recommendation/setting/addGoods")},searchVal1:function(){this.query.searchName=this.val1,this.getIndexData()},selectVal2:function(){this.query.storeId=this.val2,this.getIndexData()},check:function(e,t){this.$router.push({name:"rsc",params:{channelGoodsId:e.channelGoodsId,hasAdd:e.hasAdd,fromGoods:!1,sort:e.sort,channelIndexGoodsId:e.channelIndexGoodsId}})},cancel:function(e){var t=this;this.$confirm("是否取消推荐该商品？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={};a.channelGoodsIds=e.channelGoodsId,t.$http.get(t.$api.cancelChannelIndexGoodsBatch,{params:a}).then(function(e){e.data.flag&&(t.getIndexData(),t.$message({type:"success",message:"取消推荐商品成功!"}))})}).catch(function(){t.$message({type:"info",message:"已取消 [取消推荐] 操作"})})},cancelSelect:function(){var e=this;this.multipleSelection.length?this.$confirm("是否取消推荐选中商品？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={};t.channelGoodsIds=[];for(var a=0;a<e.multipleSelection.length;a++)t.channelGoodsIds.push(e.multipleSelection[a].channelGoodsId);t.channelGoodsIds=t.channelGoodsIds.join(","),e.$http.get(e.$api.cancelChannelIndexGoodsBatch,{params:t}).then(function(t){t.data.flag&&(e.getIndexData(),e.$message({type:"success",message:"取消推荐选中商品成功!"}))})}).catch(function(){e.$message({type:"info",message:"已取消 [取消推荐] 操作"})}):this.$message({type:"error",message:"当前未选中任何行！"})},changeSort:function(e){var t=this,a={};a.channelIndexGoodsId=e.channelIndexGoodsId,a.sort=e.sort,this.$http.get(this.$api.updateSort,{params:a}).then(function(e){e.data.flag?(t.getIndexData(),t.$message({type:"success",message:"修改排序号成功!"})):t.$message({type:"error",message:e.data.msg})})},handleSelectionChange:function(e){this.multipleSelection=e},handleSizeChange:function(e){this.query.pageSize=e,this.getIndexData()},handleCurrentChange:function(e){this.query.pageNum=e,this.getIndexData()}},created:function(){this.getIndexData(),this.getShopData()}}},713:function(e,t,a){var n=a(714);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(20)("1a7fdbc1",n,!1)},714:function(e,t,a){t=e.exports=a(7)(!1),t.push([e.i,"\n.btn-group[data-v-78e69ed8],\n.search-group[data-v-78e69ed8] {\n  margin-bottom: 20px;\n}\n.pagination[data-v-78e69ed8] {\n  float: right;\n}\n",""])},715:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"breadcrumb"},[a("div",{staticClass:"breadcrumb-head"},[e._v("推荐管理")]),e._v(" "),a("el-breadcrumb",e._l(e.$route.meta.bread,function(t,n){return a("el-breadcrumb-item",{key:n},[e._v(e._s(t))])}))],1),e._v(" "),a("div",{staticClass:"content"},[a("el-button",{staticClass:"purple-bg mb10",on:{click:e.addGoods}},[e._v("添加商品")]),e._v(" "),a("div",{staticClass:"search-group"},[a("el-input",{staticClass:"search-input mb10",attrs:{clearable:"",placeholder:"搜索商品名称/编号","prefix-icon":"el-icon-search"},on:{blur:e.searchVal1},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.searchVal1(t)}},model:{value:e.val1,callback:function(t){e.val1=t},expression:"val1"}}),e._v(" "),a("el-select",{staticClass:"search-select mb10",attrs:{clearable:"",filterable:"",placeholder:"选择店铺"},on:{change:e.selectVal2},model:{value:e.val2,callback:function(t){e.val2=t},expression:"val2"}},e._l(e.options2,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsCode",label:"商品编码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"storeName",label:"所属店铺"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sellingPrice",label:"商品价格(元)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsRecommendCount",sortable:"",label:"总推荐数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsClickCount",sortable:"",label:"总点击数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsSettleCount",sortable:"",label:"总结算数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"grossDealAmount",sortable:"",label:"总销售额(元)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"grossCommisionAmount",sortable:"",label:"总产生佣金(元)"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序号",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:"999"},on:{blur:function(a){e.changeSort(t.row)}},nativeOn:{keyup:function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key))return null;e.changeSort(t.row)}},model:{value:t.row.sort,callback:function(a){e.$set(t.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"purple-txt",attrs:{type:"text",size:"small"},on:{click:function(a){e.check(t.row,t.$index)}}},[e._v("查看")]),e._v(" "),a("el-button",{staticClass:"orange-txt",attrs:{type:"text",size:"small"},on:{click:function(a){e.cancel(t.row,t.$index)}}},[e._v("取消推荐")])]}}])})],1),e._v(" "),a("div",{staticClass:"mt20"},[a("el-button",{staticClass:"orange-bg mb10",on:{click:e.cancelSelect}},[e._v("批量取消推荐")]),e._v(" "),a("div",{staticClass:"fr"},[a("el-pagination",{attrs:{"current-page":e.query.pageNum,"page-sizes":[20,50,100,200],"page-size":e.query.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])},o=[];n._withStripped=!0;var s={render:n,staticRenderFns:o};t.a=s}});