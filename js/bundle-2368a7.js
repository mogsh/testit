webpackJsonp([95],{256:function(t,e,a){"use strict";function o(t){d||a(491)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(365),i=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);var l=a(493),d=!1,c=a(21),r=o,g=c(i.a,l.a,!1,r,"data-v-1c4441c6",null);g.options.__file="src\\component\\admin\\goods\\CheckGoods.vue",e.default=g.exports},365:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={beforeRouteLeave:function(t,e,a){"gg"==t.name&&0==this.editFlag?t.meta.keepAlive=!0:t.meta.refreshData=!0,a()},data:function(){return{goodsDetail:"",carouselItem:[],attrName:[{attributeName:""},{attributeName:""},{attributeName:""}],tableData:[],attrLength:1,editFlag:0}},methods:{getGoodsDetail:function(){var t=this,e={};e.goodsId=this.$route.params.goodsId,e.storeId=this.$route.params.storeId,this.$http.get(this.$api.findGoods,{params:e}).then(function(e){t.goodsDetail=e.data.data,t.carouselItem=t.goodsDetail.goodsCarouselImages,t.attrName=t.goodsDetail.goodsAttributeDtos,t.attrLength=t.goodsDetail.goodsAttributeDtos.length,t.tableData=t.goodsDetail.goodsSkuDtoList})},toggleSalesStatus:function(){var t=this;if("1"==this.goodsDetail.isUp)this.$confirm("是否下架该商品？(注意：下架后商品将无法销售!)","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={};e.goodsIds=t.goodsDetail.goodsId,e.isUp=0,t.$http.get(t.$api.upOrDownGoods,{params:e}).then(function(e){e.data.flag&&(t.editFlag=1,t.getGoodsDetail(),t.$message({type:"warning",message:"下架商品成功!"}))})}).catch(function(){t.$message({type:"info",message:"已取消 [下架] 操作"})});else{var e={};e.goodsIds=this.goodsDetail.goodsId,e.isUp=1,this.$http.get(this.$api.upOrDownGoods,{params:e}).then(function(e){e.data.flag&&(t.editFlag=1,t.getGoodsDetail(),t.$message({type:"warning",message:"上架商品成功!"}))})}},toggleAppStatus:function(t){var e=this;if(3==t)this.$confirm("是否驳回该商品？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t={};t.goodsIds=e.goodsDetail.goodsId,t.goodsAudit=3,e.$http.get(e.$api.auditGoods,{params:t}).then(function(t){t.data.flag&&(e.editFlag=1,e.getGoodsDetail(),e.$message({type:"warning",message:"驳回商品成功!"}))})}).catch(function(){e.$message({type:"info",message:"已退出[驳回]操作"})});else if(2==t){var a={};a.goodsIds=this.goodsDetail.goodsId,a.goodsAudit=2,this.$http.get(this.$api.auditGoods,{params:a}).then(function(t){t.data.flag&&(e.editFlag=1,e.getGoodsDetail(),e.$message({type:"warning",message:"通过商品成功!"}))})}},goBack:function(){"gg"==this.$route.params.formWhere?this.$router.push({name:"gg",params:{query:this.$route.params.query}}):this.$router.go(-1)}},created:function(){this.getGoodsDetail()}}},491:function(t,e,a){var o=a(492);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(20)("4f334cf4",o,!1)},492:function(t,e,a){e=t.exports=a(7)(!1),e.push([t.i,"\n.content .content-title[data-v-1c4441c6] {\n  font-size: 18px;\n  font-family: MicrosoftYaHei-Bold;\n  color: #606266;\n  font-weight: bold;\n  margin: 0 10px 20px;\n}\n.content1[data-v-1c4441c6] {\n  margin-bottom: 20px;\n}\n.box-border[data-v-1c4441c6] {\n  border: 1px solid #dcdfe6;\n  padding: 30px;\n  border-radius: 4px;\n}\n.carousel[data-v-1c4441c6] {\n  width: 380px;\n}\n.content-detail .content-info[data-v-1c4441c6] {\n  font-size: 16px;\n  font-family: MicrosoftYaHei-Bold;\n  color: #303133;\n  font-weight: bold;\n  padding-bottom: 30px;\n}\n",""])},493:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"breadcrumb"},[a("div",{staticClass:"breadcrumb-head"},[t._v("商品管理")]),t._v(" "),a("el-breadcrumb",t._l(t.$route.meta.bread,function(e,o){return a("el-breadcrumb-item",{key:o},[t._v(t._s(e))])}))],1),t._v(" "),a("div",{staticClass:"content content1"},[a("div",{staticClass:"content-title"},[t._v("商品信息")]),t._v(" "),a("el-row",{attrs:{gutter:20,type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"content-content"},[a("div",{staticClass:"check_goods carousel"},[[a("el-carousel",{attrs:{"indicator-position":"outside"}},t._l(t.carouselItem,function(t){return a("el-carousel-item",{key:t},[a("img",{attrs:{src:t,width:"380",height:"380"}})])}))]],2)])]),t._v(" "),a("el-col",[a("div",{staticClass:"content-detail"},[a("div",{staticClass:"content-info"},[t._v("店铺名称："+t._s(t.goodsDetail.storeName))]),t._v(" "),a("div",{staticClass:"content-info"},[t._v("销售状态："+t._s(t._f("changeSalesStatus")(t.goodsDetail.isUp)))]),t._v(" "),a("div",{staticClass:"content-info"},[t._v("审核状态："+t._s(t._f("changeAuditStatus")(t.goodsDetail.goodsAudit)))]),t._v(" "),a("div",{staticClass:"content-info"},[t._v("商品名称："+t._s(t.goodsDetail.goodsName))]),t._v(" "),a("div",{staticClass:"content-info"},[t._v("商品编号："+t._s(t.goodsDetail.goodsCode))]),t._v(" "),a("div",{staticClass:"content-info"},[t._v("商品货号："+t._s(t.goodsDetail.itemCode))]),t._v(" "),a("div",{staticClass:"content-info"},[t._v("商品分类："+t._s(t.goodsDetail.goodsCategoryName))]),t._v(" "),a("div",{staticClass:"content-info"},[t._v("商品品牌："+t._s(t.goodsDetail.brandName))]),t._v(" "),a("div",{staticClass:"content-info"},[t._v("原价(元)：\n            "),a("span",{staticClass:"orange-txt"},[t._v(t._s(t.goodsDetail.originalPrice))])]),t._v(" "),a("div",{staticClass:"content-info"},[t._v("销售价(元)：\n            "),a("span",{staticClass:"orange-txt"},[t._v(t._s(t.goodsDetail.sellingPrice))])]),t._v(" "),a("div",{staticClass:"content-info"},[t._v("库存(件)：\n            "),a("span",{staticClass:"orange-txt"},[t._v(t._s(t.goodsDetail.inventory))])])])])],1)],1),t._v(" "),a("div",{staticClass:"content content1"},[a("div",{staticClass:"content-title"},[t._v("商品属性")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"specName1",label:t.attrName[0].attributeName}}),t._v(" "),2==t.attrLength?a("el-table-column",{attrs:{prop:"specName2",label:t.attrName[1].attributeName}}):t._e(),t._v(" "),3==t.attrLength?a("el-table-column",{attrs:{prop:"specName3",label:t.attrName[2].attributeName}}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"originalPrice",label:"原价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sellingPrice",label:"销售价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"inventory",label:"库存"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.imageUrl,width:"50",height:"50"}})]}}])})],1)],1),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"content-title"},[t._v("商品详情")]),t._v(" "),a("div",{staticClass:"box-border",domProps:{innerHTML:t._s(t.goodsDetail.detail)}})]),t._v(" "),a("div",{staticClass:"mt20"},["2"!=t.goodsDetail.goodsAudit?a("el-button",{staticClass:"purple-bg mt20",on:{click:function(e){t.toggleAppStatus(t.flag=2)}}},[t._v("通过")]):t._e(),t._v(" "),"3"!=t.goodsDetail.goodsAudit?a("el-button",{staticClass:"orange-bg mt20",on:{click:function(e){t.toggleAppStatus(t.flag=3)}}},[t._v("驳回")]):t._e(),t._v(" "),"0"==t.goodsDetail.isUp&&"2"==t.goodsDetail.goodsAudit?a("el-button",{staticClass:"purple-bg mt20",on:{click:t.toggleSalesStatus}},[t._v("上架")]):t._e(),t._v(" "),"1"==t.goodsDetail.isUp&&"2"==t.goodsDetail.goodsAudit?a("el-button",{staticClass:"orange-bg mt20",on:{click:t.toggleSalesStatus}},[t._v("下架")]):t._e(),t._v(" "),a("el-button",{staticClass:"orange-bg mt20",on:{click:t.goBack}},[t._v("返回")])],1)])},s=[];o._withStripped=!0;var i={render:o,staticRenderFns:s};e.a=i}});