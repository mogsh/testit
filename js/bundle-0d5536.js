webpackJsonp([105],{274:function(t,e,a){"use strict";function i(t){c||a(545)}Object.defineProperty(e,"__esModule",{value:!0});var l=a(383),s=a.n(l);for(var n in l)"default"!==n&&function(t){a.d(e,t,function(){return l[t]})}(n);var o=a(547),c=!1,r=a(21),u=i,d=r(s.a,o.a,!1,u,"data-v-d45653b0",null);d.options.__file="src\\component\\admin\\activity\\SpecialGoods.vue",e.default=d.exports},383:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={filters:{changeGoodsAudit:function(t){return 2==t?"通过":3==t?"驳回":"未审核"}},data:function(){return{total:0,pages:0,val1:"",val2:"",val3:"",val4:"",val5:"",multipleSelection:[],imgShow:[],imgHide:[],options1:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"}],options2:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"}],options3:[],options4:[{value:"1",label:"未审核"},{value:"2",label:"通过"},{value:"3",label:"驳回"}],query:{pageNum:1,pageSize:10,activityType:"",storeId:"",goodsAudit:"",activityId:"",goodsCategoryId:"",name:""},tableData:[]}},methods:{getActivityGoodsData:function(){var t=this;this.$http.get(this.$api.findActivityGoodsListPage,{params:this.query}).then(function(e){t.tableData=e.data.data.list,t.total=e.data.data.total})},getActivityData:function(){var t=this;this.$http.get(this.$api.findActivityList+"?activityType=1").then(function(e){var a=e.data.data,i=[];a.forEach(function(t,e){var a={};a.value=t.activityId,a.label=t.activityName,i.push(a)}),t.options3=i})},searchVal1:function(){this.query.name=this.val1,this.getActivityGoodsData()},selectVal2:function(){},selectVal3:function(){},selectVal4:function(){this.query.activityId=this.val4,this.getActivityGoodsData()},selectVal5:function(){this.query.goodsAudit=this.val5,this.getActivityGoodsData()},checkgoods:function(t){this.$router.push({name:"ad",params:{id:t.goodsId}})},pass:function(t){var e=this,a={};a.activitySpecialSalesIds=t.activitySpecialSalesId,a.auditStatus=2,this.$http.get(this.$api.auditActivitySpecialSales,{params:a}).then(function(t){e.$isot(t),t.data.flag&&(e.$message.success("商品审核通过成功！"),e.getActivityGoodsData())}).catch(function(t){e.$message.error("服务器出错啦~")})},reject:function(t){var e=this;this.$confirm("是否确认驳回？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={};a.activitySpecialSalesIds=t.activitySpecialSalesId,a.auditStatus=3,e.$http.get(e.$api.auditActivitySpecialSales,{params:a}).then(function(t){t.data.flag&&(e.$message.success("商品审核驳回成功！"),e.getActivityGoodsData())}).catch(function(t){e.$message.error("服务器出错啦~")})}).catch(function(){})},multiPass:function(){var t=this,e=this.multipleSelection;if(!e.length)return this.$message.error("当前未选中任何行！"),!1;var a={};a.activitySpecialSalesIds=[];for(var i=0;i<e.length;i++)a.activitySpecialSalesIds.push(e[i].activitySpecialSalesId);a.activitySpecialSalesIds=a.activitySpecialSalesIds.join(","),a.auditStatus=2,this.$http.get(this.$api.auditActivitySpecialSales,{params:a}).then(function(e){e.data.flag&&(t.$message.success("批量通过成功！"),t.getActivityGoodsData())})},multiReject:function(){var t=this,e=this.multipleSelection;if(!e.length)return this.$message.error("当前未选中任何行！"),!1;this.$confirm("是否确认驳回多件商品？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={};a.activitySpecialSalesIds=[];for(var i=0;i<e.length;i++)a.activitySpecialSalesIds.push(e[i].activitySpecialSalesId);a.activitySpecialSalesIds=a.activitySpecialSalesIds.join(","),a.auditStatus=3,t.$http.get(t.$api.auditActivitySpecialSales,{params:a}).then(function(e){e.data.flag&&(t.$message.success("批量驳回成功！"),t.getActivityGoodsData())})}).catch(function(){t.$message.info("已取消 [批量驳回] 操作！")})},handleSelectionChange:function(t){this.multipleSelection=t},handleSizeChange:function(t){this.query.pageSize=t,this.getActivityGoodsData()},handleCurrentChange:function(t){this.query.pageNum=t,this.getActivityGoodsData()}},created:function(){this.getActivityGoodsData(),this.getActivityData()}}},545:function(t,e,a){var i=a(546);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(20)("1a789700",i,!1)},546:function(t,e,a){e=t.exports=a(7)(!1),e.push([t.i,"\n.btn-group[data-v-d45653b0],\n.search-group[data-v-d45653b0] {\n  margin-bottom: 20px;\n}\n.pagination[data-v-d45653b0] {\n  float: right;\n}\n.up-btn[data-v-d45653b0] {\n  position: relative;\n}\n.file-upload[data-v-d45653b0] {\n  position: absolute;\n  background: red;\n  color: #fff;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  opacity: 0;\n  cursor: pointer;\n}\n",""])},547:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"breadcrumb"},[a("div",{staticClass:"breadcrumb-head"},[t._v("活动管理")]),t._v(" "),a("el-breadcrumb",t._l(t.$route.meta.bread,function(e,i){return a("el-breadcrumb-item",{key:i},[t._v(t._s(e))])}))],1),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"search-group"},[a("el-input",{staticClass:"search-input",attrs:{clearable:"",placeholder:"搜索商品名称/编号/品牌","prefix-icon":"el-icon-search"},on:{blur:t.searchVal1},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchVal1(e)}},model:{value:t.val1,callback:function(e){t.val1=e},expression:"val1"}}),t._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"选择特卖活动"},on:{change:t.selectVal4},model:{value:t.val4,callback:function(e){t.val4=e},expression:"val4"}},t._l(t.options3,function(t){return a("el-option",{key:t.value,staticClass:"search-select",attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"选择审核状态"},on:{change:t.selectVal5},model:{value:t.val5,callback:function(e){t.val5=e},expression:"val5"}},t._l(t.options4,function(t){return a("el-option",{key:t.value,staticClass:"search-select",attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"storeName",label:"所属店铺"}}),t._v(" "),a("el-table-column",{attrs:{prop:"activityName",label:"所属特卖活动"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"imageUrl",label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.imageUrl,width:"52",height:"52"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsCode",label:"商品编号",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"categoryName",label:"商品分类",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsBrandName",label:"商品品牌"}}),t._v(" "),a("el-table-column",{attrs:{prop:"originalPrice",label:"原价(元)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sellingPrice",label:"销售价(元)"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsAudit",label:"审核状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t"+t._s(t._f("changeGoodsAudit")(e.row.specialSalesGoodsAudit))+"\n\t\t\t\t\t")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"purple-txt",attrs:{type:"text",size:"small"},on:{click:function(a){t.checkgoods(e.row,e.$index)}}},[t._v("查看")]),t._v(" "),2!=e.row.specialSalesGoodsAudit?a("el-button",{staticClass:"purple-txt",attrs:{type:"text",size:"small"},on:{click:function(a){t.pass(e.row)}}},[t._v("通过")]):t._e(),t._v(" "),3!=e.row.specialSalesGoodsAudit?a("el-button",{staticClass:"orange-txt",attrs:{type:"text",size:"small"},on:{click:function(a){t.reject(e.row)}}},[t._v("驳回")]):t._e()]}}])})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{staticClass:"purple-bg",on:{click:t.multiPass}},[t._v("批量通过")]),t._v(" "),a("el-button",{staticClass:"orange-bg",on:{click:t.multiReject}},[t._v("批量驳回")]),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.query.pageNum,"page-sizes":[10,20,50,100],"page-size":t.query.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)])},l=[];i._withStripped=!0;var s={render:i,staticRenderFns:l};e.a=s}});