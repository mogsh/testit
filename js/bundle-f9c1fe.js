webpackJsonp([7],{299:function(t,e,a){"use strict";function s(t){r||a(620)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(408),l=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);var n=a(622),r=!1,c=a(21),u=s,d=c(l.a,n.a,!1,u,"data-v-44021ee5",null);d.options.__file="src\\component\\admin\\youCoin\\coinShop.vue",e.default=d.exports},408:function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i,l=a(94),o=s(l),n=a(92),r=s(n),c=a(93),u=s(c),d=a(31),p=s(d);e.default={filters:{changeShow:function(t){return 1==t?"显示":"隐藏"}},data:function(){return{editData:{isUp:!1},dialogFormVisible:!1,val1:"",val2:"",val3:"",multipleSelection:[],options2:[],options3:[{value:"0",label:"隐藏"},{value:"1",label:"显示"}],total:0,pages:0,asortData:{sort:""},rules:{sort:[{required:!0,message:"必填",trigger:"blur"}]},query:{pageNum:1,pageSize:10},tableData:[],formData:{name:"",num:""}}},methods:(i={getGoodsData:function(){var t=this;this.$http.get(this.$api.findExchangeGoodsListPage,{params:this.query}).then(function(e){t.tableData=e.data.data.list,t.formData=t.tableData,t.total=e.data.data.total})},getShopData:function(){var t=this;this.$http.get(this.$api.findStoreList).then(function(e){var a=e.data.data,s=[],i=[];(0,p.default)(a).forEach(function(t,e){i.push(t)}),(0,u.default)(a).forEach(function(t,e){s.push(t)});for(var l=0;l<s.length;l++){var o={};o.value=i[l],o.label=s[l],t.options2.push(o)}})},edit:function(t){this.dialogFormVisible=!0,this.editData=JSON.parse((0,r.default)(t)),this.editData.isUp=Boolean(this.editData.isUp)},save:function(){var t=this;this.$http.get(this.$api.updateExchangeGoods,{params:{exchangeGoodsId:this.editData.exchangeGoodsId,isUp:Number(this.editData.isUp),exchangeUcoinsCount:this.editData.exchangeUcoinsCount,limitNum:this.editData.limitNum,sort:this.editData.sort}}).then(function(e){e.data.flag?(t.$message.success("保存成功！"),t.dialogFormVisible=!1,t.getGoodsData()):t.$message.error(e.data.msg)})},searchVal1:function(){this.query.searchName=this.val1,this.getGoodsData()},selectVal2:function(){this.query.storeId=this.val2,this.getGoodsData()},selectVal3:function(){this.query.isUp=this.val3,this.getGoodsData()},updateSort:function(t){var e=this;this.$http.get(this.$api.updateExchangeGoodsSort,{params:{exchangeGoodsId:t.exchangeGoodsId,sort:t.sort}}).then(function(t){1==t.data.flag?e.$message({type:"success",message:"修改成功"}):e.$message({type:"error",message:"修改失败"})})},checkgoods:function(t,e){this.$router.push({name:"ycg",params:{goodsId:t.goodsId,storeId:t.storeId,query:this.query,formWhere:"gg"}})},changeShowStatus:function(t,e){}},(0,o.default)(i,"changeShowStatus",function(t,e){var a=this;if("1"==t.isUp)this.$confirm("是否隐藏该商品？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={};e.exchangeGoodsIds=t.exchangeGoodsId,e.isUp=0,a.$http.get(a.$api.updateExchangeGoodsStatus,{params:e}).then(function(t){t.data.flag&&(a.getGoodsData(),a.$message({type:"warning",message:"隐藏商品成功!"}))})}).catch(function(){a.$message({type:"info",message:"已取消 [隐藏] 操作"})});else{var s={};s.exchangeGoodsIds=t.exchangeGoodsId,s.isUp=1,this.$http.get(this.$api.updateExchangeGoodsStatus,{params:s}).then(function(t){t.data.flag&&(a.getGoodsData(),a.$message({type:"warning",message:"显示商品成功!"}))})}}),(0,o.default)(i,"handleSelectionChange",function(t){this.multipleSelection=t}),(0,o.default)(i,"handleSizeChange",function(t){this.query.pageSize=t,this.getGoodsData()}),(0,o.default)(i,"handleCurrentChange",function(t){this.query.pageNum=t,this.getGoodsData()}),(0,o.default)(i,"addBrand",function(){this.$router.push("/youCoin/newAdd")}),i),created:function(){this.getGoodsData(),this.getShopData()}}},620:function(t,e,a){var s=a(621);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(20)("0948d03f",s,!1)},621:function(t,e,a){e=t.exports=a(7)(!1),e.push([t.i,"\n.btn-group[data-v-44021ee5],\n.search-group[data-v-44021ee5] {\n  margin-bottom: 20px;\n}\n.pagination[data-v-44021ee5] {\n  float: right;\n}\n",""])},622:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"breadcrumb"},[a("div",{staticClass:"breadcrumb-head"},[t._v("柚豆管理")]),t._v(" "),a("el-breadcrumb",t._l(t.$route.meta.bread,function(e,s){return a("el-breadcrumb-item",{key:s},[t._v(t._s(e))])}))],1),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-button",{staticClass:"purple-bg",attrs:{icon:"el-icon-plus"},on:{click:t.addBrand}},[t._v("新增商品")])],1),t._v(" "),a("div",{staticClass:"search-group select_width"},[a("el-input",{staticClass:"search-input mb10",attrs:{clearable:"",placeholder:"搜索商品名称/编号","prefix-icon":"el-icon-search"},on:{blur:t.searchVal1},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchVal1(e)}},model:{value:t.val1,callback:function(e){t.val1=e},expression:"val1"}}),t._v(" "),a("el-select",{staticClass:"search-select mb10",attrs:{clearable:"",filterable:"",placeholder:"选择所属店铺"},on:{change:t.selectVal2},model:{value:t.val2,callback:function(e){t.val2=e},expression:"val2"}},t._l(t.options2,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-select",{staticClass:"mb10",attrs:{clearable:"",filterable:"",placeholder:"选择显示状态"},on:{change:t.selectVal3},model:{value:t.val3,callback:function(e){t.val3=e},expression:"val3"}},t._l(t.options3,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"storeName",label:"所属店铺",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",align:"center",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsCode",label:"编号",align:"center",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"imageUrl",label:"图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.imageUrl,width:"52",height:"52"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"exchangeUcoinsCount",label:"柚豆兑换值",align:"center",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sellingPrice",label:"销售价(元)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"limitNum",label:"可兑换数量(件)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序号",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{on:{change:function(a){t.updateSort(e.row)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"isUp",label:"显示状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                    "+t._s(t._f("changeShow")(e.row.isUp))+"\n                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"purple-txt",attrs:{type:"text",size:"small"},on:{click:function(a){t.checkgoods(e.row,e.$index)}}},[t._v("查看")]),t._v(" "),a("el-button",{staticClass:"purple-txt",attrs:{type:"text",size:"small"},on:{click:function(a){t.edit(e.row)}}},[t._v("柚豆信息")]),t._v(" "),"0"==e.row.isUp?a("el-button",{ref:"",staticClass:"purple-txt",attrs:{type:"text",size:"small"},on:{click:function(a){t.changeShowStatus(e.row,a)}}},[t._v("显示\n                    ")]):t._e(),t._v(" "),"1"==e.row.isUp?a("el-button",{ref:"",staticClass:"orange-txt",attrs:{type:"text",size:"small"},on:{click:function(a){t.changeShowStatus(e.row,a)}}},[t._v("隐藏\n                    ")]):t._e()]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"柚豆信息",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticClass:"mb20"},[t._v("商品名称:"+t._s(t.editData.goodsName))]),t._v(" "),a("el-form",{ref:"editData",attrs:{model:t.editData,"label-position":"left","label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"柚豆兑换值"}},[a("el-input",{model:{value:t.editData.exchangeUcoinsCount,callback:function(e){t.$set(t.editData,"exchangeUcoinsCount",e)},expression:"editData.exchangeUcoinsCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"可兑换数量"}},[a("el-input",{model:{value:t.editData.limitNum,callback:function(e){t.$set(t.editData,"limitNum",e)},expression:"editData.limitNum"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"排序号"}},[a("el-input",{model:{value:t.editData.sort,callback:function(e){t.$set(t.editData,"sort",e)},expression:"editData.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"isUp",label:"显示状态"}},[a("el-switch",{attrs:{"active-text":"显示"},model:{value:t.editData.isUp,callback:function(e){t.$set(t.editData,"isUp",e)},expression:"editData.isUp"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"purple-bg mt20",staticStyle:{width:"100px"},attrs:{width:"100px"},on:{click:t.save}},[t._v("保 存")]),t._v(" "),a("el-button",{staticClass:"orange-bg",staticStyle:{width:"100px"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")])],1)],1),t._v(" "),a("div",{staticClass:"mt20",staticStyle:{height:"30px"}},[a("div",{staticClass:"fr"},[a("el-pagination",{attrs:{"current-page":t.query.pageNum,"page-sizes":[10,20,50,100],"page-size":t.query.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1)])},i=[];s._withStripped=!0;var l={render:s,staticRenderFns:i};e.a=l}});