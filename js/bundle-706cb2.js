webpackJsonp([67],{351:function(t,a,e){"use strict";function s(t){l||e(776)}Object.defineProperty(a,"__esModule",{value:!0});var o=e(460),n=e.n(o);for(var r in o)"default"!==r&&function(t){e.d(a,t,function(){return o[t]})}(r);var i=e(778),l=!1,c=e(21),d=s,v=c(n.a,i.a,!1,d,"data-v-23a733b9",null);v.options.__file="src\\component\\admin\\recommendation\\asort\\goodsDetail.vue",a.default=v.exports},460:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={filters:{changeIsUp:function(t){return 1==t?"启用":"停用"}},data:function(){return{allCommission:"",data:[],attrName:[],asortData:{asortName:"",sort:""},channelCategoryName:"",sortNum:"",inverseStr:"",tableData:[],attrLength:1,rules:{sort:[{required:!0,message:"必填",trigger:"blur"}]}}},methods:{getChannelGoods:function(){var t=this;this.$http.get(this.$api.findChannelGoods,{params:{channelGoodsId:this.$route.params.channelGoodsId}}).then(function(a){var e=a.data.data;t.data=e,t.channelGoodsInfo=a.data.data,t.attrLength=t.channelGoodsInfo.goodsAttributeDtos.length,t.attrName=t.channelGoodsInfo.goodsAttributeDtos;var s=t.channelGoodsInfo.channelGoodsDetailDto.channelGoodsSkuDetailDtos;for(var o in s){var n=t.channelGoodsInfo.channelGoodsDetailDto.channelGoodsSkuDetailDtos[0].channelGoodsCommissionDtos,r="";for(var i in n)r=r+n[i].levelName+"："+n[i].commissionRate+"%（￥"+(n[i].commissionRate*s[o].sellingPrice/100).toFixed(2)+"）";s[o].skuCommission=r}t.tableData=s;var l=t.channelGoodsInfo.channelGoodsDetailDto.channelGoodsCommissionDtos,c="";for(var d in l)c=c+l[d].commissionRate+"%（"+l[d].levelName+"）；";t.inverseStr=c})},getChannelCategory:function(){var t=this;this.$http.get(this.$api.findChannelGoodsCategorySort,{params:{channelGoodsCategoryId:this.$route.params.channelGoodsCategoryId}}).then(function(a){t.channelCategoryName=a.data.data.channelCategoryName,t.asortData.sort=a.data.data.sort})},searchVal1:function(){this.query.searchName=this.val1,this.getGoodsDetail()},goBack:function(){this.$router.go(-1)},save:function(t){var a=this;this.$refs[t].validate(function(t){if(!t)return a.$message({type:"error",message:"请按要求填写。"}),!1;a.$http.get(a.$api.updateChannelGoodsCategorySort,{params:{channelGoodsCategoryId:a.$route.params.channelGoodsCategoryId,sort:a.asortData.sort}}).then(function(t){1==t.data.flag?a.$message({type:"success",message:"保存成功"}):a.$message({type:"error",message:"保存失败"})})})},add:function(){},Delete:function(){var t=this;this.$confirm("确认删除该分类下的商品(删除成功后返回上一页)?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.get(t.$api.deleteChannelGoodsCategoryGoods,{params:{channelGoodsCategoryIds:t.$route.params.channelGoodsCategoryId}}).then(function(a){1==a.data.flag?(t.$message({type:"success",message:"删除成功。"}),t.$router.go(-1)):t.$message({type:"error",message:a.data.msg})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},objectSpanMethod:function(t){var a=(t.row,t.column,t.rowIndex),e=t.columnIndex;if(0===e)return a%2==0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}}},created:function(){this.getChannelGoods(),this.getChannelCategory()}}},776:function(t,a,e){var s=e(777);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(20)("398a53ee",s,!1)},777:function(t,a,e){a=t.exports=e(7)(!1),a.push([t.i,"\n.content .content-title[data-v-23a733b9] {\n  font-size: 18px;\n  font-family: MicrosoftYaHei-Bold;\n  color: #606266;\n  font-weight: bold;\n  margin: 0 10px 20px;\n}\n",""])},778:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"breadcrumb"},[e("div",{staticClass:"breadcrumb-head"},[t._v("推荐管理")]),t._v(" "),e("el-breadcrumb",t._l(t.$route.meta.bread,function(a,s){return e("el-breadcrumb-item",{key:s},[t._v(t._s(a))])}))],1),t._v(" "),e("div",{staticClass:"content  mb20"},[e("div",{staticClass:"content-title"},[t._v("分类信息")]),t._v(" "),e("el-form",{ref:"asortData",attrs:{model:t.asortData,rules:t.rules}},[e("el-row",[e("el-col",{staticStyle:{height:"50px"},attrs:{span:6}},[e("el-form-item",{attrs:{label:"所属分类",prop:"asortName"}},[e("label",{attrs:{for:""}},[t._v(t._s(t.channelCategoryName))])])],1)],1),t._v(" "),e("el-row",[e("el-col",{staticStyle:{height:"50px"},attrs:{span:6}},[e("el-form-item",{attrs:{label:"排序号",prop:"sort","label-width":"80px"}},[e("el-input",{model:{value:t.asortData.sort,callback:function(a){t.$set(t.asortData,"sort",a)},expression:"asortData.sort"}})],1)],1)],1)],1),t._v(" "),e("el-button",{staticClass:"purple-bg mt20",staticStyle:{width:"100px"},on:{click:function(a){t.save("asortData")}}},[t._v("保存")])],1),t._v(" "),e("div",{staticClass:"content  mb20"},[e("div",{staticClass:"content-title"},[t._v("推荐商品信息")]),t._v(" "),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:11}},[e("div",{staticClass:"p10"},[t._v("商品名称："+t._s(t.data.goodsName))]),t._v(" "),e("div",{staticClass:"p10"},[t._v("用户编号："+t._s(t.data.goodsCode))]),t._v(" "),e("div",{staticClass:"p10"},[t._v("所属店铺："+t._s(t.data.storeName))]),t._v(" "),e("div",{staticClass:"p10"},[t._v("商品品牌："+t._s(t.data.goodsBrandName))])]),t._v(" "),e("el-col",{attrs:{span:13}},[e("div",{staticClass:"p10"},[t._v("商品分类："+t._s(t.data.goodsCategoryName))]),t._v(" "),e("div",{staticClass:"p10"},[t._v("商品价格（元）："+t._s(t.data.sellingPrice))]),t._v(" "),e("div",{staticClass:"p10"},[t._v("库存量（件）："+t._s(t.data.inventory))]),t._v(" "),e("div",{staticClass:"p10"},[t._v("佣金比例："+t._s(t.inverseStr))])])],1)],1),t._v(" "),e("div",{staticClass:"content  mb20"},[e("div",{staticClass:"content-title"},[t._v("商品属性")]),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"","tooltip-effect":"dark"}},[e("el-table-column",{attrs:{prop:"specName1",label:t.attrName[0].attributeName}}),t._v(" "),2==t.attrLength?e("el-table-column",{attrs:{prop:"specName2",label:t.attrName[1].attributeName}}):t._e(),t._v(" "),3==t.attrLength?e("el-table-column",{attrs:{prop:"specName3",label:t.attrName[2].attributeName}}):t._e(),t._v(" "),e("el-table-column",{attrs:{prop:"sellingPrice",label:"销售价(元)"}}),t._v(" "),e("el-table-column",{attrs:{prop:"inventory",label:"库存量(件)"}}),t._v(" "),e("el-table-column",{attrs:{prop:"skuCommission",label:"*佣金比例",width:"600px"}})],1)],1),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"content-title"},[t._v("推荐信息")]),t._v(" "),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:11}},[e("div",{staticClass:"p10"},[t._v("总推荐数："+t._s(t.data.goodsRecommendCount))]),t._v(" "),e("div",{staticClass:"p10"},[t._v("总点击数："+t._s(t.data.goodsClickCount))]),t._v(" "),e("div",{staticClass:"p10"},[t._v("总结算数："+t._s(t.data.goodsSettleCount))])]),t._v(" "),e("el-col",{attrs:{span:13}},[e("div",{staticClass:"p10"},[t._v("总销售额（元）："+t._s(t.data.grossDealAmount))]),t._v(" "),e("div",{staticClass:"p10"},[t._v("总产生佣金（元）："+t._s(t.data.grossCommisionAmount))]),t._v(" "),e("div",{staticClass:"p10"},[t._v("新增时间："+t._s(t.data.createTime))]),t._v(" "),e("div",{staticClass:"p10"},[t._v("推荐截止时间："+t._s(t.data.endUseTime))])])],1)],1),t._v(" "),e("el-button",{staticClass:"orange-bg mt20",on:{click:t.goBack}},[t._v("返 回")]),t._v(" "),e("el-button",{staticClass:"orange-bg mt20",on:{click:t.Delete}},[t._v("删 除")])],1)},o=[];s._withStripped=!0;var n={render:s,staticRenderFns:o};a.a=n}});