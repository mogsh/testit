webpackJsonp([104],{276:function(e,t,a){"use strict";function i(e){n||a(551)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(385),s=a.n(r);for(var l in r)"default"!==l&&function(e){a.d(t,e,function(){return r[e]})}(l);var o=a(553),n=!1,c=a(21),p=i,m=c(s.a,o.a,!1,p,"data-v-7474df35",null);m.options.__file="src\\component\\admin\\activity\\addActivity.vue",t.default=m.exports},385:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{imgApi:this.$imgApi,imgArray:[],upImg:"",keepTime:[],applyTime:[],ruleForm:{activityName:"",activityType:"",applyStartTime:"",applyEndTime:"",activityStartTime:"",activityEndTime:"",activityIntroduce:"",activityExplain:"",activityImageUrl:[],activityNumber:"",sort:""},rules:{activityName:[{required:!0,message:"请输入内容",trigger:"blur"}],keepTime:[{required:!0,message:"请输入内容",trigger:"change"}],activityExplain:[{required:!0,message:"请输入内容",trigger:"blur"}],applyTime:[{required:!0,message:"请输入内容",trigger:"change"}],sort:[{required:!0,message:"请输入内容",trigger:"blur"}]},dialogImageUrl:""}},methods:{uploadImgHandler:function(e){this.upImg=e.data[0].fileUrl},checkGoods:function(e){this.$router.push("/goods/checkgoods")},handleRemove:function(e,t){},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},save:function(){var e=this,t=this.ruleForm;t.activityType=1,t.applyStartTime=this.applyTime[0],t.applyEndTime=this.applyTime[1].substring(0,10)+" 23:59:59",t.activityStartTime=this.keepTime[0],t.activityEndTime=this.keepTime[1].substring(0,10)+" 23:59:59",t.activityImageUrl=this.upImg,this.$http.get(this.$api.insertActivity,{params:t}).then(function(t){t.data.flag&&(e.$message({type:"success",message:"保存成功!"}),e.$router.go(-1))}).catch(function(){e.$message.error("保存失败！请检查输入数据！")})},saveAndAdd:function(){this.$message({type:"success",message:"保存成功!"})},cancel:function(){var e=this;this.$confirm("取消后将放弃保存直接返回上一页，是否取消修改？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$message.success("取消成功！"),e.$router.go(-1)}).catch(function(){e.$message.info("放弃 [取消] 操作！")})}}}},551:function(e,t,a){var i=a(552);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(20)("2c9f7226",i,!1)},552:function(e,t,a){t=e.exports=a(7)(!1),t.push([e.i,"\n.btn-group[data-v-7474df35],\n.search-group[data-v-7474df35] {\n  margin-bottom: 20px;\n}\n.pagination[data-v-7474df35] {\n  float: right;\n}\n.content .content-title[data-v-7474df35] {\n  font-size: 18px;\n  font-family: MicrosoftYaHei-Bold;\n  color: #606266;\n  font-weight: bold;\n  margin: 0 10px 20px;\n}\n",""])},553:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"breadcrumb"},[a("div",{staticClass:"breadcrumb-head"},[e._v("活动管理")]),e._v(" "),a("el-breadcrumb",e._l(e.$route.meta.bread,function(t,i){return a("el-breadcrumb-item",{key:i},[e._v(e._s(t))])}))],1),e._v(" "),a("div",{staticClass:"content content1 addcarousel"},[a("div",{staticClass:"content-title"},[e._v("填写特卖信息")]),e._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"特卖主题",prop:"activityName"}},[a("el-input",{model:{value:e.ruleForm.activityName,callback:function(t){e.$set(e.ruleForm,"activityName","string"==typeof t?t.trim():t)},expression:"ruleForm.activityName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-form-item",{attrs:{label:"持续时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"活动开始日期","end-placeholder":"活动结束日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.keepTime,callback:function(t){e.keepTime=t},expression:"keepTime"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"活动说明",prop:"title"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:6,maxRows:10},placeholder:"请输入内容"},model:{value:e.ruleForm.activityExplain,callback:function(t){e.$set(e.ruleForm,"activityExplain",t)},expression:"ruleForm.activityExplain"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-form-item",{attrs:{label:"报名时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"报名开始日期","end-placeholder":"报名结束日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.applyTime,callback:function(t){e.applyTime=t},expression:"applyTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-form-item",{attrs:{label:"排序号",prop:"sort"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.ruleForm.sort,callback:function(t){e.$set(e.ruleForm,"sort",t)},expression:"ruleForm.sort"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"addcarousel-pic-input",staticStyle:{height:"200px"}},[a("el-col",[a("el-form-item",{attrs:{label:"特卖图片",prop:"imgItem"}},[a("el-upload",{attrs:{action:e.imgApi,"list-type":"picture-card","file-list":e.imgArray,"on-success":e.uploadImgHandler,limit:1}},[a("i",{staticClass:"el-icon-plus"}),e._v(" "),a("div",{staticClass:"el-upload__tip orange-txt",attrs:{slot:"tip"},slot:"tip"},[e._v("**图片尺寸：375*205px；格式:jpg、png；大小：200KB以内")])])],1)],1)],1)],1)],1),e._v(" "),a("el-button",{staticClass:"purple-bg",on:{click:e.save}},[e._v("保存")]),e._v(" "),a("el-button",{staticClass:"orange-bg",on:{click:e.cancel}},[e._v("取消")])],1)},r=[];i._withStripped=!0;var s={render:i,staticRenderFns:r};t.a=s}});