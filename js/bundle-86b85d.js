webpackJsonp([107],{277:function(t,e,a){"use strict";function i(t){o||a(554)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(386),l=a.n(r);for(var s in r)"default"!==s&&function(t){a.d(e,t,function(){return r[t]})}(s);var n=a(556),o=!1,c=a(21),p=i,m=c(l.a,n.a,!1,p,"data-v-150ae9bc",null);m.options.__file="src\\component\\admin\\activity\\CheckActivity.vue",e.default=m.exports},386:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{imgApi:this.$imgApi,upImg:[],keepTime:[],applyTime:[],ruleForm:{activityName:"",activityType:"",applyStartTime:"",applyEndTime:"",activityStartTime:"",activityEndTime:"",activityIntroduce:"",activityExplain:"",activityImageUrl:[],activityNumber:"",sort:"",activityId:""},rules:{activityName:[{required:!0,message:"请输入内容",trigger:"blur"}],keepTime:[{required:!0,message:"请输入内容",trigger:"change"}],activityExplain:[{required:!0,message:"请输入内容",trigger:"blur"}],applyTime:[{required:!0,message:"请输入内容",trigger:"change"}],sort:[{required:!0,message:"请输入内容",trigger:"blur"}]},dialogImageUrl:""}},methods:{getActivityData:function(){var t=this,e=this.$route.params.id;this.ruleForm.activityId=this.$route.params.id,this.$http.get(this.$api.findActivityDetails,{params:{activityId:e}}).then(function(e){var a=e.data.data,i={};i.name=a.activityImageUrl,i.url=a.activityImageUrl,t.upImg.push(i),t.ruleForm.activityName=a.activityName,t.ruleForm.activityExplain=a.activityExplain,t.ruleForm.sort=a.sort,t.keepTime.push(a.activityStartTime),t.keepTime.push(a.activityEndTime),t.applyTime.push(a.applyStartTime),t.applyTime.push(a.applyEndTime)})},uploadImgHandler:function(t){var e={};e.name=t.data[0].fileUrl,e.url=t.data[0].fileUrl,this.upImg=[],this.upImg.push(e)},handleRemove:function(t,e){},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},save:function(){var t=this,e=this.ruleForm;e.activityType=1,e.applyStartTime=this.applyTime[0],e.applyEndTime=this.applyTime[1].substring(0,10)+" 23:59:59",e.activityStartTime=this.keepTime[0],e.activityEndTime=this.keepTime[1].substring(0,10)+" 23:59:59",e.activityImageUrl=this.upImg[0].url,this.$http.get(this.$api.updateActivity,{params:e}).then(function(e){t.$isot(e),e.data.flag&&(t.$message({type:"success",message:"保存成功!"}),t.$router.go(-1))}).catch(function(){t.$message.error("保存失败！请检查输入数据！")})},cancel:function(){var t=this;this.$confirm("取消后将直接返回上一页面，是否取消修改？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$router.go(-1)}).catch(function(){})}},created:function(){this.getActivityData()}}},554:function(t,e,a){var i=a(555);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(20)("0dde2613",i,!1)},555:function(t,e,a){e=t.exports=a(7)(!1),e.push([t.i,"\n.btn-group[data-v-150ae9bc],\n.search-group[data-v-150ae9bc] {\n  margin-bottom: 20px;\n}\n.pagination[data-v-150ae9bc] {\n  float: right;\n}\n.content .content-title[data-v-150ae9bc] {\n  font-size: 18px;\n  font-family: MicrosoftYaHei-Bold;\n  color: #606266;\n  font-weight: bold;\n  margin: 0 10px 20px;\n}\n",""])},556:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"breadcrumb"},[a("div",{staticClass:"breadcrumb-head"},[t._v("活动管理")]),t._v(" "),a("el-breadcrumb",t._l(t.$route.meta.bread,function(e,i){return a("el-breadcrumb-item",{key:i},[t._v(t._s(e))])}))],1),t._v(" "),a("div",{staticClass:"content content1 addcarousel"},[a("div",{staticClass:"content-title"},[t._v("填写特卖信息")]),t._v(" "),a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"特卖主题",prop:"activityName"}},[a("el-input",{model:{value:t.ruleForm.activityName,callback:function(e){t.$set(t.ruleForm,"activityName","string"==typeof e?e.trim():e)},expression:"ruleForm.activityName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-form-item",{attrs:{label:"持续时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始时间","end-placeholder":"选择结束时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.keepTime,callback:function(e){t.keepTime=e},expression:"keepTime"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"活动说明",prop:"title"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:6,maxRows:10},placeholder:"请输入内容"},model:{value:t.ruleForm.activityExplain,callback:function(e){t.$set(t.ruleForm,"activityExplain",e)},expression:"ruleForm.activityExplain"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-form-item",{attrs:{label:"报名时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"选择开始时间","end-placeholder":"选择结束时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.applyTime,callback:function(e){t.applyTime=e},expression:"applyTime"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8,offset:4}},[a("el-form-item",{attrs:{label:"排序号",prop:"sort"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.ruleForm.sort,callback:function(e){t.$set(t.ruleForm,"sort",e)},expression:"ruleForm.sort"}})],1)],1)],1),t._v(" "),a("el-row",{staticClass:"addcarousel-pic-input",staticStyle:{height:"200px"}},[a("el-col",[a("el-form-item",{attrs:{label:"特卖图片",prop:"imgItem"}},[a("el-upload",{attrs:{action:t.imgApi,"list-type":"picture-card","file-list":t.upImg,"on-success":t.uploadImgHandler,limit:1}},[a("i",{staticClass:"el-icon-plus"}),t._v(" "),a("div",{staticClass:"el-upload__tip orange-txt",attrs:{slot:"tip"},slot:"tip"},[t._v("**图片尺寸：375*205px；格式:jpg、png；大小：200KB以内")])])],1)],1)],1)],1)],1),t._v(" "),a("el-button",{staticClass:"purple-bg",on:{click:t.save}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"orange-bg",on:{click:t.cancel}},[t._v("取消")])],1)},r=[];i._withStripped=!0;var l={render:i,staticRenderFns:r};e.a=l}});