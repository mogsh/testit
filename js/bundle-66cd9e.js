webpackJsonp([24],{278:function(e,t,a){"use strict";function l(e){o||a(557)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(387),n=a.n(s);for(var i in s)"default"!==i&&function(e){a.d(t,e,function(){return s[e]})}(i);var r=a(559),o=!1,u=a(21),c=l,p=u(n.a,r.a,!1,c,"data-v-a0a41a22",null);p.options.__file="src\\component\\admin\\wxapp\\WxCarousel.vue",t.default=p.exports},387:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{total:0,pages:0,val1:"",val2:"",val3:[],val4:"1",options:[{value:"1",label:"上线"},{value:"0",label:"下线"}],options2:[{value:"1",label:"轮播图"},{value:"3",label:"横幅广告图"}],value8:"",tableData:[],query:{pageNum:1,pageSize:20,title:"",isUp:"",beginUseTime:"",endUseTime:"",moduleType:"1"}}},methods:{checkcarousel:function(e){this.$router.push({path:"/wxapp/checkcarousel",query:{adImageId:e}})},handleSizeChange:function(e){this.query.pageSize=e,this.getCarouselList()},handleCurrentChange:function(e){this.query.pageNum=e,this.getCarouselList()},addCarousel:function(){this.$router.push({path:"/wxapp/addcarousel",query:{addType:"addCarousel"}})},searchVal1:function(){this.query.title=this.val1,this.getCarouselList()},selectVal2:function(){this.query.isUp=this.val2,this.getCarouselList()},selectVal3:function(){this.val3?(this.query.beginUseTime=this.val3[0],this.query.endUseTime=this.val3[1].substring(0,10)+" 23:59:59"):this.query.beginUseTime=this.query.endUseTime="",this.getCarouselList()},selectVal4:function(){this.query.moduleType=this.val4,this.getCarouselList()},toggle:function(e,t){var a=this;"1"==e.isUp?this.$confirm("是否下线轮播图？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.get(a.$api.upAdImage,{params:{adImageId:e.adImageId,isUp:0}}).then(function(e){e.data.flag&&(a.$message({type:"warning",message:"轮播图下线成功!"}),a.getCarouselList())})}).catch(function(){a.$message({type:"info",message:"已取消下线操作"})}):this.$http.get(this.$api.upAdImage,{params:{adImageId:e.adImageId,isUp:1}}).then(function(e){e.data.flag&&(a.$message({type:"success",message:"轮播图上线成功！"}),a.getCarouselList())})},getCarouselList:function(){var e=this;this.$http.get(this.$api.findAdImageListPage,{params:this.query}).then(function(t){var a=t.data.data.list;a.forEach(function(e,t){e.keepTime=e.beginUseTime+" 至 "+e.endUseTime}),e.tableData=a,e.total=t.data.data.total})}},created:function(){this.getCarouselList()}}},557:function(e,t,a){var l=a(558);"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a(20)("3d25a991",l,!1)},558:function(e,t,a){t=e.exports=a(7)(!1),t.push([e.i,"\n.btn-group[data-v-a0a41a22],\n.search-group[data-v-a0a41a22] {\n  margin-bottom: 20px;\n}\n.pagination[data-v-a0a41a22] {\n  float: right;\n}\n",""])},559:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"breadcrumb"},[a("div",{staticClass:"breadcrumb-head"},[e._v("小程序管理")]),e._v(" "),a("el-breadcrumb",e._l(e.$route.meta.bread,function(t,l){return a("el-breadcrumb-item",{key:l},[e._v(e._s(t))])}))],1),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"btn-group"},[a("el-button",{staticClass:"purple-bg",attrs:{icon:"el-icon-plus"},on:{click:e.addCarousel}},[e._v("新增轮播图")])],1),e._v(" "),a("div",{staticClass:"search-group"},[a("el-input",{staticClass:"search-input",attrs:{clearable:"",placeholder:"搜索轮播图名称","prefix-icon":"el-icon-search"},on:{blur:e.searchVal1},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.searchVal1(t)}},model:{value:e.val1,callback:function(t){e.val1="string"==typeof t?t.trim():t},expression:"val1"}}),e._v(" "),a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"选择轮播图状态"},on:{change:e.selectVal2},model:{value:e.val2,callback:function(t){e.val2=t},expression:"val2"}},e._l(e.options,function(e){return a("el-option",{key:e.value,staticClass:"search-select",attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-date-picker",{attrs:{clearable:"",type:"daterange","range-separator":"至","start-placeholder":"选择开始日期","end-placeholder":"选择结束日期","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:e.selectVal3},model:{value:e.val3,callback:function(t){e.val3=t},expression:"val3"}}),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"选择显示类型"},on:{change:e.selectVal4},model:{value:e.val4,callback:function(t){e.val4=t},expression:"val4"}},e._l(e.options2,function(e){return a("el-option",{key:e.value,staticClass:"search-select",attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark","default-sort":{prop:"sort_no",order:"descending"}}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"轮播图名称"}}),e._v(" "),a("el-table-column",{attrs:{label:"图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:e.row.imgUrl,width:"200"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"keepTime",label:"轮播图持续时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序号",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:""},model:{value:t.row.sort,callback:function(a){e.$set(t.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"jumpType",label:"跳转方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.jumpType?a("span",{staticStyle:{"margin-left":"30px"}},[e._v("商品")]):a("span",{staticStyle:{"margin-left":"30px"}},[e._v("链接")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"isUp",label:"轮播图状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isUp?a("span",{staticStyle:{"margin-left":"30px"}},[e._v("上线")]):a("span",{staticStyle:{"margin-left":"30px"}},[e._v("下线")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"purple-txt",attrs:{type:"text",size:"small"},on:{click:function(a){e.checkcarousel(t.row.adImageId)}}},[e._v("查看")]),e._v(" "),"0"==t.row.isUp?a("el-button",{ref:"",staticClass:"purple-txt",attrs:{type:"text",size:"small"},on:{click:function(a){e.toggle(t.row,a)}}},[e._v("上线")]):e._e(),e._v(" "),"1"==t.row.isUp?a("el-button",{ref:"",staticClass:"orange-txt",attrs:{type:"text",size:"small"},on:{click:function(a){e.toggle(t.row,a)}}},[e._v("下线")]):e._e()]}}])})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"text",disabled:""}}),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.query.pageNum,"page-sizes":[20,50,100,200],"page-size":e.query.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])},s=[];l._withStripped=!0;var n={render:l,staticRenderFns:s};t.a=n}});