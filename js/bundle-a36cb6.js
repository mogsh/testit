webpackJsonp([66],{346:function(t,e,a){"use strict";function o(t){i||a(761)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(455),l=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a(763),i=!1,c=a(21),u=o,d=c(l.a,r.a,!1,u,"data-v-711f6506",null);d.options.__file="src\\component\\admin\\recommendation\\asort\\goodsOfSort.vue",e.default=d.exports},455:function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(93),l=o(n),s=a(31),r=o(s),i=a(95),c=o(i);e.default={data:function(){return{query:{pageNum:1,pageSize:10},total:0,val1:"",val2:"",val3:[],options2:[],options3:[],value8:"",currentPage:1,tableData:[],deletestr:"",multipleSelection:[]}},methods:{getAsortGoods:function(){var t=this;this.$http.get(this.$api.findChannelGoodsListByChannelCategory,{params:this.query}).then(function(e){var a=[];for(var o in e.data.data.list){var n={};n=(0,c.default)(e.data.data.list[o],e.data.data.list[o].channelGoodsInfo),a.push(n)}t.total=e.data.data.total,t.tableData=a})},getShopData:function(){var t=this;this.$http.get(this.$api.findStoreList).then(function(e){var a=e.data.data,o=[],n=[];(0,r.default)(a).forEach(function(t,e){n.push(t)}),(0,l.default)(a).forEach(function(t,e){o.push(t)});for(var s=0;s<o.length;s++){var i={};i.value=n[s],i.label=o[s],t.options2.push(i)}})},getRecommendCategoryData:function(){var t=this,e={pageNum:1,pageSize:999};this.$http.get(this.$api.findChannelCategoryList,{params:e}).then(function(e){var a=[];for(var o in e.data.data.list){var n={label:e.data.data.list[o].channelCategoryName,value:e.data.data.list[o].channelCategoryId};a.push(n)}t.options3=a})},searchVal1:function(){this.query.searchName=this.val1,this.getAsortGoods()},selectVal2:function(){this.query.storeId=this.val2,this.getAsortGoods()},selectVal3:function(){var t=this.val3.length;this.query.channelCategoryId=this.val3[t-1],this.getAsortGoods()},handleSelectionChange:function(t){this.multipleSelection=t;var e="";for(var a in this.multipleSelection)e=e+this.multipleSelection[a].channelGoodsCategoryId+",";e=e.substring(0,e.length-1),this.deletestr=e},handleSizeChange:function(t){this.query.pageSize=t,this.getAsortGoods()},handleCurrentChange:function(t){this.query.pageNum=t,this.getAsortGoods()},addGoods:function(){this.$router.push("/recommendation/asort/addSortGoods")},checkOrganization:function(t){this.$router.push({name:"ragd",params:{channelGoodsId:t.channelGoodsId,channelGoodsCategoryId:t.channelGoodsCategoryId}})},changeSort:function(t){var e=this;this.$http.get(this.$api.updateChannelGoodsCategorySort,{params:{channelGoodsCategoryId:t.channelGoodsCategoryId,sort:t.sort}}).then(function(t){1==t.data.flag?e.$message({type:"success",message:"修改成功"}):e.$message({type:"error",message:"修改失败"})})},cancel:function(t,e){var a=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.get(a.$api.deleteChannelGoodsCategoryGoods,{params:{channelGoodsCategoryIds:t.channelGoodsCategoryId}}).then(function(t){1==t.data.flag?(a.$message({type:"success",message:"删除成功。"}),a.getAsortGoods()):a.$message({type:"error",message:"删除失败。"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},deleteSelect:function(){var t=this;this.multipleSelection.length?this.$confirm("确认删除选中行?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.get(t.$api.deleteChannelGoodsCategoryGoods,{params:{channelGoodsCategoryIds:t.deletestr}}).then(function(e){1==e.data.flag?(t.$message({type:"success",message:"删除成功。"}),t.getAsortGoods()):t.$message({type:"error",message:"删除失败。"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})}):this.$message.error("当前未选中任何行！")}},created:function(){this.getAsortGoods(),this.getShopData(),this.getRecommendCategoryData()}}},761:function(t,e,a){var o=a(762);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(20)("a212ee82",o,!1)},762:function(t,e,a){e=t.exports=a(7)(!1),e.push([t.i,"\n.btn-group[data-v-711f6506],\n.search-group[data-v-711f6506] {\n  margin-bottom: 20px;\n}\n.pagination[data-v-711f6506] {\n  float: right;\n}\n.content .content-title[data-v-711f6506] {\n  font-size: 18px;\n  font-family: MicrosoftYaHei-Bold;\n  color: #606266;\n  font-weight: bold;\n  margin: 0 10px 20px;\n}\n",""])},763:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"breadcrumb"},[a("div",{staticClass:"breadcrumb-head"},[t._v("推荐管理")]),t._v(" "),a("el-breadcrumb",t._l(t.$route.meta.bread,function(e,o){return a("el-breadcrumb-item",{key:o},[t._v(t._s(e))])}))],1),t._v(" "),a("div",{staticClass:"content content1 addcarousel"},[a("div",{staticClass:"btn-group"},[a("el-button",{staticClass:"purple-bg",attrs:{icon:"el-icon-plus"},on:{click:t.addGoods}},[t._v("添加商品")])],1),t._v(" "),a("div",{staticClass:"search-group"},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"搜索商品名称 / 编号 / 品牌","prefix-icon":"el-icon-search",clearable:""},on:{blur:t.searchVal1},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.searchVal1(e)}},model:{value:t.val1,callback:function(e){t.val1="string"==typeof e?e.trim():e},expression:"val1"}}),t._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"选择店铺",clearable:""},on:{change:t.selectVal2},model:{value:t.val2,callback:function(e){t.val2=e},expression:"val2"}},t._l(t.options2,function(t){return a("el-option",{key:t.value,staticClass:"search-select",attrs:{label:t.label,value:t.value}})})),t._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"选择分类",clearable:""},on:{change:t.selectVal3},model:{value:t.val3,callback:function(e){t.val3=e},expression:"val3"}},t._l(t.options3,function(t){return a("el-option",{key:t.value,staticClass:"search-select",attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark","default-sort":{prop:"sort_no",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsCode",label:"商品编码",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"storeName",label:"所属店铺",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sellingPrice",label:"商品价格（元）",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsRecommendCount",label:"总推荐数",sortable:"",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsClickCount",label:"总点击数",sortable:"",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsSettleCount",label:"总结算数（元）",sortable:"",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"grossDealAmount",label:"总销售额（元）",sortable:"",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"grossCommisionAmount",label:"总产生佣金（元）",sortable:"",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"channelCategoryName",label:"所属分类",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序号",sortable:"",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:"999"},on:{blur:function(a){t.changeSort(e.row)}},nativeOn:{keyup:function(a){if(!("button"in a)&&t._k(a.keyCode,"enter",13,a.key))return null;t.changeSort(e.row)}},model:{value:e.row.sort,callback:function(a){t.$set(e.row,"sort",a)},expression:"scope.row.sort"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"purple-txt",attrs:{type:"text",size:"small"},on:{click:function(a){t.checkOrganization(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{staticClass:"orange-txt",attrs:{type:"text",size:"small"},on:{click:function(a){t.cancel(e.row,e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{staticClass:"orange-bg",on:{click:t.deleteSelect}},[t._v("批量删除")]),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)])},n=[];o._withStripped=!0;var l={render:o,staticRenderFns:n};e.a=l}});