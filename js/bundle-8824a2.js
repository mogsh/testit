webpackJsonp([9],{296:function(t,e,i){"use strict";function a(t){o||i(611)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(405),s=i.n(n);for(var l in n)"default"!==l&&function(t){i.d(e,t,function(){return n[t]})}(l);var r=i(613),o=!1,u=i(21),c=a,m=u(s.a,r.a,!1,c,"data-v-cac65106",null);m.options.__file="src\\component\\admin\\youCoin\\TurntableSetting.vue",e.default=m.exports},405:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(92),n=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default={data:function(){return{imgApi:this.$imgApi,upImg:"",image:[],winItems:null,winItemsArr:[],winItemsAll:[]}},methods:{uploadImgHandler:function(t){this.upImg=t.data[0].fileUrl},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e},makeWinItemsArr:function(){for(var t=[],e=[],i={name:null,awardNum:null,hitProbability:null,everyMaxHitCount:null,isDouble:!1},a=0;a<this.winItems;a++)t[a]=a,e[a]=JSON.parse((0,n.default)(i));this.winItemsArr=t,this.winItemsAll=e},getSetting:function(){var t=this;this.$http.get(this.$api.getTurntableGameConfig).then(function(e){if(e.data.flag&&e.data.data!=[]){var i=e.data.data,a=[];t.upImg=i.imageUrl,t.winItems=i.subConfigList.length;for(var s=0;s<t.winItems;s++)a[s]=s;t.winItemsArr=a,t.image=[{url:i.imageUrl}];var l=[];i.subConfigList.forEach(function(t,e){t.isDouble=Boolean(t.isDouble),l.push(t)}),t.winItemsAll=JSON.parse((0,n.default)(l))}})},save:function(){var t=this,e={};e.imageUrl=this.upImg,e.subConfigList=[],JSON.parse((0,n.default)(this.winItemsAll)).forEach(function(t,i){var a={};a.isDouble=Number(t.isDouble),a.awardNum=t.awardNum,a.hitProbability=String(t.hitProbability),a.name=t.name,e.subConfigList.push(a)});var i=(0,n.default)(e);this.$http.post(this.$api.setTurntableGameConfig,i).then(function(e){e.data.flag?(t.$message.success("保存成功！"),t.getSetting()):t.$message.error(e.data.msg)})},cancel:function(){var t=this;this.$confirm("取消后将放弃保存，，请确认是否取消？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$message({type:"success",message:"取消成功!"}),t.getSetting()}).catch(function(){t.$message({type:"info",message:"放弃 [取消] 操作!"})})}},created:function(){this.getSetting()}}},611:function(t,e,i){var a=i(612);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(20)("0fbf0658",a,!1)},612:function(t,e,i){e=t.exports=i(7)(!1),e.push([t.i,"\n.content .content-title[data-v-cac65106] {\n  font-size: 18px;\n  font-family: MicrosoftYaHei-Bold;\n  color: #606266;\n  font-weight: bold;\n  margin: 0 10px 20px;\n}\n.input150[data-v-cac65106] {\n  width: 150px;\n}\n.input130[data-v-cac65106] {\n  width: 130px;\n}\n.block[data-v-cac65106] {\n  border: 1px solid #dcdfe6;\n  border-radius: 4px;\n  padding: 20px 20px 0;\n  width: 100%;\n  margin-bottom: 20px;\n}\n.abs[data-v-cac65106] {\n  position: absolute;\n  bottom: 0;\n  transform: translateY(-75px);\n}\n",""])},613:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"breadcrumb"},[i("div",{staticClass:"breadcrumb-head"},[t._v("柚豆管理")]),t._v(" "),i("el-breadcrumb",t._l(t.$route.meta.bread,function(e,a){return i("el-breadcrumb-item",{key:a},[t._v(t._s(e))])}))],1),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"content-title"},[t._v("转盘设置")]),t._v(" "),i("el-form",{attrs:{"label-width":"100px","label-position":"left"}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"转盘奖项设置",prop:""}},[i("el-input",{staticClass:"input130",attrs:{type:"number",placeholder:"填写奖项数量"},on:{blur:t.makeWinItemsArr},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.makeWinItemsArr(e)}},model:{value:t.winItems,callback:function(e){t.winItems=e},expression:"winItems"}})],1)],1)],1),t._v(" "),i("el-row",{staticClass:"addcarousel-pic-input",staticStyle:{height:"200px"}},[i("el-col",[i("el-form-item",{attrs:{label:"转盘图片",prop:"imgItem"}},[i("div",{staticClass:"turntableSetting"},[i("el-upload",{attrs:{action:t.imgApi,"list-type":"picture-card","file-list":t.image,"on-success":t.uploadImgHandler,"before-upload":t.beforeAvatarUpload,limit:1}},[i("i",{staticClass:"el-icon-plus"}),t._v(" "),i("div",{staticClass:"el-upload__tip orange-txt",attrs:{slot:"tip"},slot:"tip"},[t._v("*图片尺寸：696*696px；格式为jpg,png。")])])],1)])],1)],1),t._v(" "),i("div",{staticStyle:{"font-size":"14px",color:"#606266",position:"relative"}},[i("div",{staticClass:"input150 abs"},[t._v("转盘示例")]),t._v(" "),i("div",{staticStyle:{padding:"0 0 30px 100px"}},[i("img",{attrs:{src:"https://image.qcloud.weyou.shop/online/image/20180523152218866105.png",width:"120",alt:"转盘示例"}})])]),t._v(" "),Number(t.winItems)>0?i("el-row",{attrs:{gutter:18}},[i("el-col",{attrs:{span:22,offset:1}},[i("div",{staticClass:"block"},t._l(t.winItemsArr,function(e,a){return i("el-form-item",{key:a,attrs:{label:"项目"+(a+1),prop:""}},[i("el-input",{staticClass:"input130",attrs:{placeholder:"转盘项目名称"},model:{value:t.winItemsAll[a].name,callback:function(e){t.$set(t.winItemsAll[a],"name",e)},expression:"winItemsAll[index].name"}}),t._v(" "),i("el-input",{staticClass:"input130",attrs:{type:"number",placeholder:"转盘柚豆奖励"},model:{value:t.winItemsAll[a].awardNum,callback:function(e){t.$set(t.winItemsAll[a],"awardNum",e)},expression:"winItemsAll[index].awardNum"}}),t._v(" "),i("el-input",{staticClass:"input130",attrs:{type:"number",placeholder:"转盘中奖几率"},model:{value:t.winItemsAll[a].hitProbability,callback:function(e){t.$set(t.winItemsAll[a],"hitProbability",e)},expression:"winItemsAll[index].hitProbability"}}),t._v(" "),i("el-input",{staticClass:"input150",attrs:{type:"number",placeholder:"每日最大中奖量"},model:{value:t.winItemsAll[a].everyMaxHitCount,callback:function(e){t.$set(t.winItemsAll[a],"everyMaxHitCount",e)},expression:"winItemsAll[index].everyMaxHitCount"}}),t._v(" "),i("el-switch",{attrs:{"inactive-text":"不翻倍","active-text":"翻倍"},model:{value:t.winItemsAll[a].isDouble,callback:function(e){t.$set(t.winItemsAll[a],"isDouble",e)},expression:"winItemsAll[index].isDouble"}})],1)}))])],1):t._e()],1)],1),t._v(" "),i("el-button",{staticClass:"purple-bg mt20",staticStyle:{width:"100px"},on:{click:t.save}},[t._v("保存")]),t._v(" "),i("el-button",{staticClass:"orange-bg mt20",staticStyle:{width:"100px"},on:{click:t.cancel}},[t._v("取消")])],1)},n=[];a._withStripped=!0;var s={render:a,staticRenderFns:n};e.a=s}});