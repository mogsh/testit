var e=Object.defineProperty,t=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,a,o)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o,r=(e,r)=>{for(var n in r||(r={}))a.call(r,n)&&l(e,n,r[n]);if(t)for(var n of t(r))o.call(r,n)&&l(e,n,r[n]);return e};import{p as n,l as d,X as i,o as m,c as s,w as p,b as u,h as c,t as f,ax as h,ay as y,d as _,i as b,r as k,ae as D}from"./index.8a89d12b.js";import{_ as x}from"./uni-load-more.5b2735e4.js";import{r as V}from"./uni-app.es.42fcfc95.js";import{_ as S}from"./uni-easyinput.64e4af28.js";import{_ as g}from"./uni-forms-item.cb4a0bc6.js";import{_ as w}from"./uni-forms.c148bd57.js";import{_ as C}from"./unicloud-db.f2f36ee8.js";import{e as F,C as j}from"./index.24f09131.js";import{_ as v}from"./plugin-vue_export-helper.21dcd24c.js";import"./uni-icons.41c57c15.js";n.database();var U=v({data:()=>({formData:{content:"",remark:"",extra_remark:"",id:null},tempFormData:{isShowTempArea:!1,tempContent:"",encodeKey:""},formOptions:{},tempInputStyle:{color:"#9c8bcd"},tempInputPlaceholderStyle:"color: #7db6bf;",queryWhere:"",collectionList:"encrypt-records",loadMore:{contentdown:"",contentrefresh:"",contentnomore:""},options:r({},F)}),onLoad(e){this._id=e.id},onReady(){this._id&&(this.queryWhere='_id=="'+this._id+'"')},methods:{openTempForm(){this.formData.content=this.$refs.contentView.val,this.tempFormData.isShow=!0},closeTempForm(){this.tempFormData.isShow=!1},tapDecodeData(){let{content:e}=this.formData,{encodeKey:t}=this.tempFormData;this.tempFormData.tempContent=function(e,t=""){return j.AES.decrypt(e,t).toString(j.enc.Utf8)}(e,t)},handleUpdate(){d({url:"./edit?id="+this._id,events:{refreshData:()=>{this.$refs.udb.loadData({clear:!0})}}})},handleDelete(){this.$refs.udb.remove(this._id,{success:e=>{i()}})}}},[["render",function(e,t,a,o,l,r){const n=b,d=V(k("uni-load-more"),x),i=V(k("uni-easyinput"),S),F=V(k("uni-forms-item"),g),j=D,v=V(k("uni-forms"),w),U=V(k("unicloud-db"),C);return m(),s(n,{class:"container"},{default:p((()=>[u(U,{ref:"udb",options:l.options,collection:l.collectionList,field:"content,remark,extra_remark",where:l.queryWhere,getone:!0,manual:!0},{default:p((({data:e,loading:a,error:o,options:b})=>[o?(m(),s(n,{key:0},{default:p((()=>[c(f(o.message),1)])),_:2},1024)):a?(m(),s(n,{key:1},{default:p((()=>[u(d,{contentText:l.loadMore,status:"loading"},null,8,["contentText"])])),_:1})):e?(m(),s(n,{key:2},{default:p((()=>[u(v,{ref:"form",labelWidth:"200rpx"},{default:p((()=>[u(F,{name:"extra_remark",label:"记录描述"},{default:p((()=>[u(i,{type:"textarea",autoHeight:"",disabled:"",modelValue:e.extra_remark,"onUpdate:modelValue":t=>e.extra_remark=t,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),u(F,{name:"remark",label:"记录账号",required:""},{default:p((()=>[u(i,{type:"textarea",autoHeight:"",disabled:"",modelValue:e.remark,"onUpdate:modelValue":t=>e.remark=t,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),h(u(F,{name:"content",label:"加密文本",required:""},{default:p((()=>[u(i,{ref:"contentView",type:"textarea",modelValue:e.content,"onUpdate:modelValue":t=>e.content=t,autoHeight:"",disabled:"",placeholder:"加密文本"},null,8,["modelValue","onUpdate:modelValue"]),u(j,{size:"mini",type:"primary",style:{"margin-top":"20rpx"},onClick:r.openTempForm},{default:p((()=>[c("点击查看加密文本")])),_:1},8,["onClick"])])),_:2},1536),[[y,!l.tempFormData.isShow]]),h(u(v,{labelWidth:"200rpx","validate-trigger":"checkTempForm","err-show-type":"toast"},{default:p((()=>[u(F,{name:"encodeKey",label:"自定密钥",required:""},{default:p((()=>[u(i,{styles:l.tempInputStyle,placeholderStyle:l.tempInputPlaceholderStyle,type:"password",autoHeight:"",modelValue:l.tempFormData.encodeKey,"onUpdate:modelValue":t[0]||(t[0]=e=>l.tempFormData.encodeKey=e),placeholder:"请输入内容"},null,8,["styles","placeholderStyle","modelValue"])])),_:1}),u(F,{name:"content",label:"转换",required:""},{default:p((()=>[u(j,{size:"mini",type:"primary",onClick:r.tapDecodeData},{default:p((()=>[c("使用密钥转换字符")])),_:1},8,["onClick"]),u(j,{size:"mini",type:"default",style:{"margin-left":"20rpx"},onClick:r.closeTempForm},{default:p((()=>[c("取消")])),_:1},8,["onClick"])])),_:1}),h(u(F,{name:"tempContent",label:"解密值",required:""},{default:p((()=>[u(i,{styles:l.tempInputStyle,placeholderStyle:l.tempInputPlaceholderStyle,type:"textarea",autoHeight:"",modelValue:l.tempFormData.tempContent,"onUpdate:modelValue":t[1]||(t[1]=e=>l.tempFormData.tempContent=e),placeholder:"解密后的字符串值"},null,8,["styles","placeholderStyle","modelValue"])])),_:1},512),[[y,l.tempFormData.tempContent]])])),_:1},512),[[y,l.tempFormData.isShow]])])),_:2},1536)])),_:2},1024)):_("",!0)])),_:1},8,["options","collection","where"]),u(n,{class:"btns"},{default:p((()=>[u(j,{type:"primary",onClick:r.handleUpdate},{default:p((()=>[c("修改")])),_:1},8,["onClick"]),u(j,{type:"warn",class:"btn-delete",onClick:r.handleDelete},{default:p((()=>[c("删除")])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-bcf7c7de"]]);export{U as default};
