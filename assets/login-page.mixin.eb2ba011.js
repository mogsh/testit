var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(t,r,i)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i;import{a9 as d,J as a}from"./index.8a89d12b.js";import{m as c}from"./store.e01ffa37.js";let l={data:()=>({config:d,uniIdRedirectUrl:"",isMounted:!1}),onUnload(){document.onkeydown=!1},mounted(){this.isMounted=!0},onLoad(e){if(e.is_weixin_redirect){if(a({mask:!0}),window.location.href.includes("#")){window.location.href.split("?")[1].split("&").forEach((t=>{let r=t.split("=");"code"==r[0]&&(e.code=r[1])}))}this.$nextTick((t=>{console.log(this.$refs.uniFabLogin),this.$refs.uniFabLogin.login({code:e.code},"weixin")}))}e.uniIdRedirectUrl&&(this.uniIdRedirectUrl=decodeURIComponent(e.uniIdRedirectUrl))},computed:{needAgreements(){if(this.isMounted)return!!this.$refs.agreements&&this.$refs.agreements.needAgreements},agree:{get(){if(this.isMounted)return!this.$refs.agreements||this.$refs.agreements.isAgree},set(e){this.$refs.agreements?this.$refs.agreements.isAgree=e:console.log("不存在 隐私政策协议组件")}}},methods:{loginSuccess(e){var d,a;c.loginSuccess((d=((e,t)=>{for(var r in t||(t={}))s.call(t,r)&&n(e,r,t[r]);if(i)for(var r of i(t))o.call(t,r)&&n(e,r,t[r]);return e})({},e),a={uniIdRedirectUrl:this.uniIdRedirectUrl},t(d,r(a))))}}};export{l as m};
