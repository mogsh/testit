webpackJsonp([8],{vv2K:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={data:function(){return{select:{province:"",city:"",area:""},list:[{v:0,vv:"asdsadsadsads"},{v:1,vv:"gfhgfhfghf"}],listLoading:!1,currentPage4:1,optionsOfStatus:[{value:"0",label:"不可用"},{value:"1",label:"可用"}],options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],value:"",query:{pageSize:20,pageNum:1,province:"",city:"",district:""},currentPage:1,total:0}},filters:{typeFilter:function(e){return{0:"小程序",1:"店铺",3:"导航",4:"卡包"}[e]},auditFilter:function(e){return{0:"下架",1:"上架"}[e]},adFilter:function(e){return{0:"不可用",1:"可用"}[e]}},created:function(){this.getListData()},methods:{getListData:function(){var e=this,t=this.query;this.$ajax.get(this.$api.advertListPage,{params:t}).then(function(t){console.log("列表数据"),console.log(t);var a=t.data;e.list=a,e.total=t.total})},go2add:function(){this.$router.push("/redpacket/give")},onSelected:function(e){console.log(e);var t={address:encodeURI(e.province.value+e.city.value+e.area.value),key:"LESBZ-MWHWP-2ARD5-VS75Q-U4UB3-6QBLV"};this.$ajax.get("https://apis.map.qq.com/ws/geocoder/v1/",{params:t}).then(function(e){console.log(e)})},onProvince:function(e){console.log(e),this.query.province=e.value,"省"==e.value&&(this.query.province=""),this.getListData()},onCity:function(e){console.log(e),this.query.city=e.value,"市"==e.value&&(this.query.city=""),this.getListData()},onArea:function(e){console.log(e),this.query.district=e.value,"区"==e.value&&(this.query.district=""),this.getListData()},handleSizeChange:function(e){this.query.pageSize=e,this.getListData()},handleCurrentChange:function(e){this.query.pageNum=e,this.getListData()}}},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container content"},[a("div",{staticClass:"filter"},[a("div",{staticClass:"mb10"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.go2add}},[e._v("新增广告")])],1),e._v(" "),a("div",[a("el-select",{attrs:{placeholder:"发布时间范围"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-select",{attrs:{placeholder:"展示位置"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"广告状态"},model:{value:e.query.status,callback:function(t){e.$set(e.query,"status",t)},expression:"query.status"}},e._l(e.optionsOfStatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("div",{staticClass:"mt10"},[a("v-distpicker",{attrs:{province:e.select.province,city:e.select.city,area:e.select.area},on:{selected:e.onSelected,province:e.onProvince,area:e.onArea}})],1)],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{fixed:"",type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"发布时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.createTime)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"内容类型",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",[e._v(e._s(e._f("typeFilter")(t.row.resourceType)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发布内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.adDescription))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"展示位置/范围",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:1==t.row.addressType,expression:"scope.row.addressType==1"}]},[e._v(e._s(t.row.province+t.row.city+t.row.district+t.row.address))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:2==t.row.addressType,expression:"scope.row.addressType==2"}]},[e._v(e._s(t.row.distance))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发布金额",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.totalAmount))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"余额",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(Number(t.row.box.balance)+Number(t.row.redPackage.balance)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发布宝箱数",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.box.total))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"剩余未领取宝箱数",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.box.stock))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发布宝箱金额",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.box.amount))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"发布触达人数",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.touchTimes))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"已触达人数",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.hasTouchCount))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"广告状态",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:1==t.row.status?"success":"danger"}},[e._v(e._s(e._f("adFilter")(t.row.status)))])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[1,50,100,200],"page-size":e.query.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)};n._withStripped=!0;var s={render:n,staticRenderFns:[]},o=s;var r=a("VU/8")(l,o,!1,null,null,null);r.options.__file="src\\views\\redpacket\\List.vue";t.default=r.exports}});